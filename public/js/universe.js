define("yang/var/document",[],function(){return window.document}),define("yang/var/prefixJs",[],function(){var e=navigator.userAgent.toLowerCase(),t="";return/webkit/gi.test(e)?t="Webkit":/msie | trident/gi.test(e)?t="ms":/mozilla/gi.test(e)?t="Moz":/opera/gi.test(e)&&(t="O"),t}),define("yang/var/trsfm",["./prefixJs"],function(e){return e+"Transform"in document.documentElement.style?e+"Transform":"transform"}),define("yang/var/getStyle",[],function(){return function(e,t){return document.defaultView.getComputedStyle(e,"").getPropertyValue(t)}}),define("yang/var/colorCircle",[],function(){return["rgb(255, 0 ,0)","rgb(255, 128, 0)","rgb(255, 255, 0)","rgb(128, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 128)","rgb(0, 255, 255)","rgb(0, 128, 255)","rgb(0, 0, 255)","rgb(128, 0, 255)","rgb(255, 0, 255)","rgb(255, 0, 128)"]}),define("yang/var/bindEvent",[],function(){return function(e,t,n,a){var i=arguments[3]||!1;e.addEventListener(t,n,i)}}),define("yang/var/unbindEvent",[],function(){return function(e,t,n,a){var i=arguments[3]||!1;e.removeEventListener(t,n,i)}}),define("yang/var/touchPos",[],function(){return function(e){var t,n;if(e.type.indexOf("mouse")>-1||e.type.indexOf("click")>-1)t=e.pageX,n=e.pageY;else if(e.type.indexOf("touch")>-1&&1===e.touches.length){var a=e.touches[0];t=a.pageX,n=a.pageY}return[t,n]}}),define("yang/build/func/reveal",[],function(){return function(e){e.style.display="block"}}),define("yang/build/func/conceal",[],function(){return function(e){e.style.display="none"}}),define("yang/build/func/configVar",[],function(){return function(e,t){return t||e}}),define("yang/build/func/closestPoint",[],function(){return function(e,t){var n=null,a=0,i=0,r=0,o=0,u=0,c=0;do r=t[c].tx-e.x,o=t[c].ty-e.y,u=t[c].tz-e.z,a=Math.sqrt(r*r+o*o+u*u),null!==n?(n>a&&(n=a,i=c),c++):(n=a,i=c);while(c<t.length);return i}}),define("yang/build/func/maxPoint",[],function(){return function(e,t){var n=[],a=[],i=-1,r=0;do if(e[r]instanceof Object){var o=e[r].dataset.pid;void 0===n[o]?(i++,n[o]=!0,a[i]=1):a[i]++,r++}while(r<e.length);var u=a.length,c=Math.max.apply(null,a);return Math.max(u*c,e.length,t)}}),define("yang/build/func/fibonacciSphere",[],function(){return function(e,t){var n=Math.PI*(3-Math.sqrt(5)),a=2/e,i=0,r=1-a/2,o=0,u=[],c=0,s=0,l=0,f=0,d=0,g=0,m=0;do o=Math.sqrt(1-r*r),c=Math.cos(i)*o*t,s=Math.sin(i)*o*t,l=r*t,r-=a,i+=n,g=l/Math.abs(l),g=isNaN(g)?1:g,d=g>0?Math.atan(c/l)+Math.PI:Math.atan(c/l),f=Math.asin(s/t),u[m]={tx:c,ty:s,tz:l,ry:d,rx:f},m++;while(e>m);return u}}),define("yang/build/build",["../var/document","../var/trsfm","../var/getStyle","../var/colorCircle","../var/bindEvent","../var/unbindEvent","../var/touchPos","./func/reveal","./func/conceal","./func/configVar","./func/closestPoint","./func/maxPoint","./func/fibonacciSphere"],function(e,t,n,a,i,r,o,u,c,s,l,f,d){var g=function(e){this.config={},this.setup(e)};g.prototype={setup:function(i){function r(){for(var t=c.querySelectorAll(".tier-"+g),n=e.getElementById("style_section").sheet||e.getElementById("style_section").styleSheet,i=0,r="";i<t.length;)r=a[i%a.length],n.insertRule(".sec-"+t[i].dataset.ctg_id+"{border: 2px solid "+r+";}",i),i++}function o(){var e=c.querySelectorAll(".tier-"+g);if(!e.length)return!1;b=g?f(e,b):e.length,m+=v,p=b==w.length?w:w=d(b,m);var a=0,i={};do{if(g){var r=h[e[a].dataset.pid],u=l(r,p);i=p[u],p.splice(u,1)}else i=p[a];e[a].style[t]="translate3d("+i.tx+y+", "+i.ty+y+", "+i.tz+y+")rotateY("+i.ry+"rad)rotateX("+i.rx+"rad)",e[a].style[t]=n(e[a],"transform"),e[a].dataset.ctg_id&&(h[e[a].dataset.ctg_id]={x:i.tx,y:i.ty,z:i.tz}),a++}while(a<e.length);g++,o()}var u=this,c=e.getElementById("stage"),g=0,m=200,v=100,y="px",b=0,h=[],p=[],w=[];!function(){for(var e in i)u.config[e]=i[e];m=s(m,u.config.radius),v=s(v,u.config.gap),y=s(y,u.config.unit),r(),o(),p=h=w=null,u.tiers=g-1}()},zoom:function(){function a(e){e.preventDefault();var a=e.deltaY/Math.abs(e.deltaY),i=s.cssRules.length,l=a>0?i:i-1;if(l>=c&&a>0||0>l&&0>a)return!1;a>0?s.insertRule(".tier-"+l+"{display:none;}",l):s.deleteRule(l);var f="";do f+=":not(.tier-"+l+")",l--;while(l>-1);var d=r.querySelectorAll(".star"+f),g=o*a+u,m=0;do d[m].style[t]=n(d[m],"transform")+"translateZ("+g+")",m++;while(m<d.length)}i(e,"wheel",a);var r=e.getElementById("stage"),o=this.config.gap,u=this.config.unit,c=this.tiers,s=e.getElementById("style_zoom").sheet||e.getElementById("style_zoom").styleSheet},click:function(){function t(e){var t=e.target,i=t.classList;if("submit"!==t.type&&e.preventDefault(),i.contains("star"))n(t);else if(i.contains("btn")){if(i.contains("disable"))return!1;a(t)}}function n(e){var t=e.dataset.ctg_id?e.dataset.ctg_id:0,n=e.dataset.item_id?e.dataset.item_id:0,a=n?["#addDesc","#addSibl"]:["#showItem"],i=r.querySelectorAll(".disable"),s=0;for(o.querySelector("input[name='ctg_id']").value=t,o.querySelector("input[name='item_id']").value=n,o.querySelector("input[name='pid']").value=e.dataset.pid,o.querySelector("input[name='tier']").value=e.dataset.tier,o.querySelector("textarea").placeholder=e.dataset.title;s<i.length;)i[s].classList.remove("disable"),s++;for(s=0;s<a.length;){var l=r.querySelector(a[s]);l&&l.classList.add("disable"),s++}c(o),u(r)}function a(e){var t="",n=!1,a=e.id,i=o.querySelector("input[name='act']"),s=o.querySelector("input[name='ctg_id']").value,l=o.querySelector("input[name='item_id']").value;switch(i.value="",o.action="",a){case"focus":break;case"addDesc":i.value="desc",n=!0;break;case"addSibl":i.value="sibl",n=!0;break;case"editSelf":n=!0;break;case"hideOper":c(r);break;case"addItem":n=!0}n&&(0!=s?t=e.dataset.ctg_action:0!=l&&(t=e.dataset.item_action)),o.action=t,t?u(o):c(o)}var r=e.getElementById("operation"),o=r.querySelector("form");i(e,"click",t)}},window.Build=g}),define("yang/var/prefixCss",[],function(){var e=navigator.userAgent.toLowerCase(),t="";return/webkit/gi.test(e)?t="-webkit-":/msie | trident/gi.test(e)?t="-ms-":/mozilla/gi.test(e)||/opera/gi.test(e)&&(t="-o-"),t}),define("yang/var/findPos",[],function(){return function(e){var t=0,n=0;if(e.offsetParent){do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return[t,n]}}}),define("yang/var/requestAnim",[],function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(e,1e3/60)}}),define("yang/var/cancelAnim",[],function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}),define("yang/build/func/multiplyMatrix3d",[],function(){return function(e,t){var n=new Float32Array(16);return n[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],n[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],n[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],n[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],n[4]=e[4]*t[0]+e[5]*t[4]+e[6]*t[8]+e[7]*t[12],n[5]=e[4]*t[1]+e[5]*t[5]+e[6]*t[9]+e[7]*t[13],n[6]=e[4]*t[2]+e[5]*t[6]+e[6]*t[10]+e[7]*t[14],n[7]=e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7]*t[15],n[8]=e[8]*t[0]+e[9]*t[4]+e[10]*t[8]+e[11]*t[12],n[9]=e[8]*t[1]+e[9]*t[5]+e[10]*t[9]+e[11]*t[13],n[10]=e[8]*t[2]+e[9]*t[6]+e[10]*t[10]+e[11]*t[14],n[11]=e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]*t[15],n[12]=e[12]*t[0]+e[13]*t[4]+e[14]*t[8]+e[15]*t[12],n[13]=e[12]*t[1]+e[13]*t[5]+e[14]*t[9]+e[15]*t[13],n[14]=e[12]*t[2]+e[13]*t[6]+e[14]*t[10]+e[15]*t[14],n[15]=e[12]*t[3]+e[13]*t[7]+e[14]*t[11]+e[15]*t[15],n}}),define("yang/build/func/calcAngle",[],function(){return function(e,t){var n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],a=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])*Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return Math.acos(n/a)}}),define("yang/build/func/calcZ",[],function(){return function(e,t,n){var a=1-(e[0]-t[0])/n,i=1-(e[1]-t[1])/n,r=1-a*a-i*i;return[a,i,r]}}),define("yang/build/func/normalize",[],function(){return function(e){for(var t=e.length,n=0,a=[],i=0;t>i;i++)n+=Math.pow(e[i],2);if(n=Math.sqrt(n),0==n)return!1;for(var i=0;t>i;i++)a[i]=e[i]/n;return a}}),define("yang/build/func/crossVector",[],function(){return function(e,t){var n=[];return n[0]=e[1]*t[2]-e[2]*t[1],n[1]=e[2]*t[0]-e[0]*t[2],n[2]=e[0]*t[1]-e[1]*t[0],n}}),define("yang/build/func/rotateMatrix",[],function(){return function(e,t){var n=e[0],a=e[1],i=e[2],r=t,o=Math.sin(r)/2,u=Math.sin(r/2)*Math.sin(r/2),c=new Float32Array(16);return c[0]=1-2*(a*a+i*i)*u,c[1]=2*(n*a*u+i*o),c[2]=2*(n*i*u-a*o),c[4]=2*(n*a*u-i*o),c[5]=1-2*(n*n+i*i)*u,c[6]=2*(a*i*u+n*o),c[8]=2*(n*i*u+a*o),c[9]=2*(a*i*u-n*o),c[10]=1-2*(n*n+a*a)*u,c[15]=1,c}}),define("yang/build/trackball",["../var/document","../var/prefixJs","../var/prefixCss","../var/trsfm","../var/getStyle","../var/touchPos","../var/findPos","../var/bindEvent","../var/unbindEvent","../var/requestAnim","../var/cancelAnim","./func/configVar","./func/multiplyMatrix3d","./func/calcAngle","./func/calcZ","./func/normalize","./func/crossVector","./func/rotateMatrix"],function(e,t,n,a,i,r,o,u,c,s,l,f,d,g,m,v,y,b){var h=function(e){this.config={},this.setup(e)};h.prototype.setup=function(a){function h(t){V&&0!==L&&A(),P=m(r(t),F,j),C=R,T=(new Date).getTime(),c(k.stage,"mousedown",h),u(e,"mousemove",p),u(e,"mouseup",w)}function p(e){return e.preventDefault(),I=m(r(e),F,j),I[0]==P[0]&&I[1]==P[1]&&I[2]==P[2]?!1:(C=R,B=v(y(P,I)),R=g(P,I),Z=!1,void q())}function w(t){return t.preventDefault(),c(e,"mousemove",p),c(e,"mouseup",w),u(k.stage,"mousedown",h),B==[]||isNaN(B[0])||isNaN(B[1])||isNaN(B[2])?!1:(N=(new Date).getTime(),x(),void(E&&L>0?(Z=!0,s(M)):A()))}function q(){k.obj.style[t+"Transform"]="rotate3d("+B+", "+R+"rad) matrix3d("+D+")",J=s(q),Z&&l(J)}function x(){var e=R-C,t=N-T;L=Math.abs(e*(1e3/60)/t),isNaN(L)?L=0:O>0&&L>O&&(L=O)}function M(){R+=L,L=L>0?L-Y*Math.sqrt(L):0,k.obj.style[t+"Transform"]="rotate3d("+B+","+R+"rad) matrix3d("+D+")",0===L?(l(X),A()):X=s(M)}function A(){Z=!0;var e=b(B,R);D=d(D,e),C=R=L=0}var S,k=this,E=!0,z=0,_=0,j=0,F=0,P=[],I=[],B=[1,1,1],C=0,R=0,T=0,N=0,D=new Float32Array(16),L=0,V=!0,O=.5,Y=.01,J=null,X=null,Z=!1;!function(){for(var t in a)k.config[t]=a[t];return k.stage=k.config.stage||e.getElementsByTagName("body")[0],k.obj=k.config.obj,k.obj&&"object"==typeof k.obj?(E=f(E,k.config.impulse),V=f(V,k.config.resetMotion),O=f(O,k.config.omegaCap),Y=f(Y,k.config.lambda),F=o(k.stage),z=k.stage.offsetWidth/2,_=k.stage.offsetHeight/2,j=_>z?_:z,S=i(k.obj,n+"transform"),"none"==S?(D[0]=1,D[5]=1,D[10]=1,D[15]=1):(D=S.split(","),D[0]=D[0].replace(/(matrix3d\()/g,""),D[15]=D[15].replace(/\)/g,""),D=new Float32Array(D)),void u(k.stage,"mousedown",h)):(console.error("rotating object not found"),!1)}()},window.Trackball=h}),define("yang/yang-universe",["./var/document","./build/build","./build/trackball"],function(e,t,n){var a=new Build({radius:140,gap:80,unit:"px"});new Trackball({stage:e.getElementById("stage"),obj:e.getElementById("galaxy"),impulse:!0,resetMotion:!0,omegaGap:.8,lambda:.001});a.zoom(),a.click()}),requirejs.config({baseUrl:"public/js",paths:{app:"../js/yang"}}),requirejs(["yang/yang-universe"]),define("build-yang-universe",function(){});