define("yang/var/document",[],function(){return window.document}),define("yang/var/prefixJs",[],function(){var t=navigator.userAgent.toLowerCase(),e="";return/webkit/gi.test(t)?e="Webkit":/msie | trident/gi.test(t)?e="ms":/mozilla/gi.test(t)?e="Moz":/opera/gi.test(t)&&(e="O"),e}),define("yang/var/trsfm",["./prefixJs"],function(t){return t+"Transform"in document.documentElement.style?t+"Transform":"transform"}),define("yang/var/getStyle",[],function(){return function(t,e){return document.defaultView.getComputedStyle(t,"").getPropertyValue(e)}}),define("yang/var/colorCircle",[],function(){return["rgb(255, 0 ,0)","rgb(255, 128, 0)","rgb(255, 255, 0)","rgb(128, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 128)","rgb(0, 255, 255)","rgb(0, 128, 255)","rgb(0, 0, 255)","rgb(128, 0, 255)","rgb(255, 0, 255)","rgb(255, 0, 128)"]}),define("yang/var/bindEvent",[],function(){return function(t,e,n,r){var a=arguments[3]||!1;t.addEventListener(e,n,a)}}),define("yang/var/unbindEvent",[],function(){return function(t,e,n,r){var a=arguments[3]||!1;t.removeEventListener(e,n,a)}}),define("yang/var/touchPos",[],function(){return function(t){var e,n;if(t.type.indexOf("mouse")>-1||t.type.indexOf("click")>-1)e=t.pageX,n=t.pageY;else if(t.type.indexOf("touch")>-1&&1===t.touches.length){var r=t.touches[0];e=r.pageX,n=r.pageY}return[e,n]}}),define("yang/func/ajax",["../var/document"],function(t){return function(e,n,r,a,i){a=a||"POST",i=void 0===i?!0:i,R=new XMLHttpRequest,R.onreadystatechange=function(){if(R.readyState===XMLHttpRequest.DONE){if(200!==R.status)throw"error occured during request";n(JSON.parse(R.responseText))}},R.open(a,e,i),R.setRequestHeader("X-CSRF-TOKEN",t.querySelector('meta[name="csrf_token"]').getAttribute("content")),R.send(r)}}),define("yang/build/func/matrixToArr",[],function(){return function(t){var e=t.split(",");return e[0]=e[0].replace(/(matrix3d\()/g,""),e[15]=e[15].replace(/\)/g,""),Float32Array.from(e)}}),define("yang/build/func/arrToMatrix",[],function(){return function(t){return"matrix3d("+t.join(",")+")"}}),define("yang/func/inverseMatrix3d",[],function(){return function(t,e){e=e||new Float32Array(16),e[0]=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],e[1]=-t[1]*t[10]*t[15]+t[1]*t[14]*t[11]+t[2]*t[9]*t[15]-t[2]*t[13]*t[11]-t[3]*t[9]*t[14]+t[3]*t[13]*t[10],e[2]=t[1]*t[6]*t[15]-t[1]*t[14]*t[7]-t[2]*t[5]*t[15]+t[2]*t[13]*t[7]+t[3]*t[5]*t[14]-t[3]*t[13]*t[6],e[3]=-t[1]*t[6]*t[11]+t[1]*t[10]*t[7]+t[2]*t[5]*t[11]-t[2]*t[9]*t[7]-t[3]*t[5]*t[10]+t[3]*t[9]*t[6],e[4]=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],e[5]=t[0]*t[10]*t[15]-t[0]*t[14]*t[11]-t[2]*t[8]*t[15]+t[2]*t[12]*t[11]+t[3]*t[8]*t[14]-t[3]*t[12]*t[10],e[6]=-t[0]*t[6]*t[15]+t[0]*t[14]*t[7]+t[2]*t[4]*t[15]-t[2]*t[12]*t[7]-t[3]*t[4]*t[14]+t[3]*t[12]*t[6],e[7]=t[0]*t[6]*t[11]-t[0]*t[10]*t[7]-t[2]*t[4]*t[11]+t[2]*t[8]*t[7]+t[3]*t[4]*t[10]-t[3]*t[8]*t[6],e[8]=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],e[9]=-t[0]*t[9]*t[15]+t[0]*t[13]*t[11]+t[1]*t[8]*t[15]-t[1]*t[12]*t[11]-t[3]*t[8]*t[13]+t[3]*t[12]*t[9],e[10]=t[0]*t[5]*t[15]-t[0]*t[13]*t[7]-t[1]*t[4]*t[15]+t[1]*t[12]*t[7]+t[3]*t[4]*t[13]-t[3]*t[12]*t[5],e[11]=-t[0]*t[5]*t[11]+t[0]*t[9]*t[7]+t[1]*t[4]*t[11]-t[1]*t[8]*t[7]-t[3]*t[4]*t[9]+t[3]*t[8]*t[5],e[12]=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9],e[13]=t[0]*t[9]*t[14]-t[0]*t[13]*t[10]-t[1]*t[8]*t[14]+t[1]*t[12]*t[10]+t[2]*t[8]*t[13]-t[2]*t[12]*t[9],e[14]=-t[0]*t[5]*t[14]+t[0]*t[13]*t[6]+t[1]*t[4]*t[14]-t[1]*t[12]*t[6]-t[2]*t[4]*t[13]+t[2]*t[12]*t[5],e[15]=t[0]*t[5]*t[10]-t[0]*t[9]*t[6]-t[1]*t[4]*t[10]+t[1]*t[8]*t[6]+t[2]*t[4]*t[9]-t[2]*t[8]*t[5];for(var n=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],r=0;16>r;r++)e[r]/=n;return e}}),define("yang/func/focus",["../build/func/matrixToArr","../build/func/arrToMatrix","./inverseMatrix3d"],function(t,e,n){return function(r){var a=t(r);return a[12]=0,a[13]=0,a[14]=0,e(n(a))}}),define("yang/build/func/reveal",[],function(){return function(t){t.style.display="block"}}),define("yang/build/func/conceal",[],function(){return function(t){t.style.display="none"}}),define("yang/build/func/configVar",[],function(){return function(t,e){return e||t}}),define("yang/build/func/closestPoint",[],function(){return function(t,e){var n=null,r=0,a=0,i=0,o=0,u=0,c=0;do i=e[c].tx-t.x,o=e[c].ty-t.y,u=e[c].tz-t.z,r=Math.sqrt(i*i+o*o+u*u),null!==n?(n>r&&(n=r,a=c),c++):(n=r,a=c);while(c<e.length);return a}}),define("yang/build/func/maxPoint",[],function(){return function(t,e){var n=[],r=[],a=-1,i=0;do if(t[i]instanceof Object){var o=t[i].dataset.pid;void 0===n[o]?(a++,n[o]=!0,r[a]=1):r[a]++,i++}while(i<t.length);var u=r.length,c=Math.max.apply(null,r);return Math.max(u*c,t.length,e)}}),define("yang/build/func/fibonacciSphere",[],function(){return function(t,e){var n=Math.PI*(3-Math.sqrt(5)),r=2/t,a=0,i=1-r/2,o=0,u=[],c=0,s=0,f=0,l=0,d=0,g=0,m=0;do o=Math.sqrt(1-i*i),c=Math.cos(a)*o*e,s=Math.sin(a)*o*e,f=i*e,i-=r,a+=n,g=f/Math.abs(f),g=isNaN(g)?1:g,d=g>0?Math.atan(c/f)+Math.PI:Math.atan(c/f),l=Math.asin(s/e),u[m]={tx:c,ty:s,tz:f,ry:d,rx:l},m++;while(t>m);return u}}),define("yang/build/func/annulus",["../../var/document","../../var/trsfm"],function(t,e){return function(n){for(var r=[],a=0,i=0,o=0,u=0,c=0,s=0,f=0;i<n.length;){for(r=t.body.querySelectorAll(n[i].selector),u=n[i].radius,a=r.length,f=2*Math.PI/a,o=c=s=0;o<r.length;)c=u*Math.sin(f*o),s=u*Math.cos(f*o)*-1,r[o].style[e]="translate("+c+"px,"+s+"px)",o++;i++}}}),define("yang/build/build_space",["../var/document","../var/trsfm","../var/getStyle","../var/colorCircle","../var/bindEvent","../var/unbindEvent","../var/touchPos","../func/ajax","../func/focus","./func/reveal","./func/conceal","./func/configVar","./func/closestPoint","./func/maxPoint","./func/fibonacciSphere","./func/annulus"],function(t,e,n,r,a,i,o,u,c,s,f,l,d,g,m,y){var v=function(t){this.config={},this.setup(t)};v.prototype={stage:null,rotateObj:null,aimedStar:null,setup:function(a){function i(){for(var e=c.querySelectorAll(".tier-"+f),n=t.getElementById("style_section").sheet||t.getElementById("style_section").styleSheet,a=0,i="";a<e.length;)i=r[a%r.length],n.insertRule(".sec-"+e[a].dataset.ctg_id+"{border: 2px solid "+i+";}",a),a++}function o(){var t=c.querySelectorAll(".tier-"+f);if(!t.length)return!1;h=f?g(t,h):t.length,y+=p,x=h==M.length?M:M=m(h,y);var r=0,a={};do{if(f){var i=w[t[r].dataset.pid],u=d(i,x);a=x[u],x.splice(u,1)}else a=x[r];t[r].style[e]="translate3d("+a.tx+b+", "+a.ty+b+", "+a.tz+b+")rotateY("+a.ry+"rad)rotateX("+a.rx+"rad)",t[r].style[e]=n(t[r],"transform"),t[r].dataset.ctg_id&&(w[t[r].dataset.ctg_id]={x:a.tx,y:a.ty,z:a.tz}),r++}while(r<t.length);f++,o()}var u=this,c=null,s=null,f=0,y=200,p=100,b="px",h=0,w=[],x=[],M=[];!function(){for(var t in a)u.config[t]=a[t];c=u.config.stage,s=u.config.rotateObj,v.prototype.stage=c,v.prototype.rotateObj=s,y=l(y,u.config.radius),p=l(p,u.config.gap),b=l(b,u.config.unit),i(),o(),x=w=M=null,u.tiers=f-1}()},setOperation:function(t){y(t)},zoom:function(){function r(t){t.preventDefault();var r=t.deltaY/Math.abs(t.deltaY),a=s.cssRules.length,f=r>0?a:a-1;if(f>=c&&r>0||0>f&&0>r)return!1;r>0?s.insertRule(".tier-"+f+"{display:none;}",f):s.deleteRule(f);var l="";do l+=":not(.tier-"+f+")",f--;while(f>-1);var d=i.querySelectorAll(".star"+l),g=o*r+u,m=0;do d[m].style[e]=n(d[m],"transform")+"translateZ("+g+")",m++;while(m<d.length)}a(t,"wheel",r);var i=v.prototype.stage,o=this.config.gap,u=this.config.unit,c=this.tiers,s=t.getElementById("style_zoom").sheet||t.getElementById("style_zoom").styleSheet},click:function(){function n(t){var e=t.target;return"A"===e.nodeName?!1:(t.preventDefault(),void(e.classList.contains("star")?r(e):e.classList.contains("btn")?i(e):e.classList.contains("submit")&&o(e)))}function r(e){var n=e.dataset.ctg_id?e.dataset.ctg_id:0,r=e.dataset.item_id?e.dataset.item_id:0,a=t.getElementById("ctg_box"),i=t.getElementById("item_box");n?(s(a),f(i)):r&&(s(i),f(a)),v.prototype.aimedStar=e}function i(n){var r,a=v.prototype.aimedStar,i=n.classList,o=0;i.contains("ctg_btn")?r=t.getElementById("ctg_form"):i.contains("item_btn")&&(r=t.getElementById("item_form"));for(var u=r.querySelectorAll("input[type='hidden']");o<u.length;)u[o].value=a.dataset[u[o].getAttribute("name")]||n.dataset[u[o].getAttribute("name")],o++;return n.dataset.action?(r.action=n.dataset.action,s(r)):i.contains("btn-focus")?v.prototype.rotateObj.style[e]=c(a.style[e]):i.contains("btn-hide")&&(f(r),f(r.parentNode)),!1}function o(t){var e,n=t.parentNode;e=function(t){console.log(t)},u(n.action,e,new FormData(n))}a(t,"click",n)}},window.BuildSpace=v}),define("yang/var/prefixCss",[],function(){var t=navigator.userAgent.toLowerCase(),e="";return/webkit/gi.test(t)?e="-webkit-":/msie | trident/gi.test(t)?e="-ms-":/mozilla/gi.test(t)||/opera/gi.test(t)&&(e="-o-"),e}),define("yang/var/findPos",[],function(){return function(t){var e=0,n=0;if(t.offsetParent){do e+=t.offsetLeft,n+=t.offsetTop;while(t=t.offsetParent);return[e,n]}}}),define("yang/var/requestAnim",[],function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(t,1e3/60)}}),define("yang/var/cancelAnim",[],function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}),define("yang/build/func/multiplyMatrix3d",[],function(){return function(t,e){var n=new Float32Array(16);return n[0]=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],n[1]=t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+t[3]*e[13],n[2]=t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+t[3]*e[14],n[3]=t[0]*e[3]+t[1]*e[7]+t[2]*e[11]+t[3]*e[15],n[4]=t[4]*e[0]+t[5]*e[4]+t[6]*e[8]+t[7]*e[12],n[5]=t[4]*e[1]+t[5]*e[5]+t[6]*e[9]+t[7]*e[13],n[6]=t[4]*e[2]+t[5]*e[6]+t[6]*e[10]+t[7]*e[14],n[7]=t[4]*e[3]+t[5]*e[7]+t[6]*e[11]+t[7]*e[15],n[8]=t[8]*e[0]+t[9]*e[4]+t[10]*e[8]+t[11]*e[12],n[9]=t[8]*e[1]+t[9]*e[5]+t[10]*e[9]+t[11]*e[13],n[10]=t[8]*e[2]+t[9]*e[6]+t[10]*e[10]+t[11]*e[14],n[11]=t[8]*e[3]+t[9]*e[7]+t[10]*e[11]+t[11]*e[15],n[12]=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+t[15]*e[12],n[13]=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+t[15]*e[13],n[14]=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+t[15]*e[14],n[15]=t[12]*e[3]+t[13]*e[7]+t[14]*e[11]+t[15]*e[15],n}}),define("yang/build/func/calcAngle",[],function(){return function(t,e){var n=t[0]*e[0]+t[1]*e[1]+t[2]*e[2],r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])*Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return Math.acos(n/r)}}),define("yang/build/func/calcZ",[],function(){return function(t,e,n){var r=1-(t[0]-e[0])/n,a=1-(t[1]-e[1])/n,i=1-r*r-a*a;return[r,a,i]}}),define("yang/build/func/normalize",[],function(){return function(t){for(var e=t.length,n=0,r=[],a=0;e>a;a++)n+=Math.pow(t[a],2);if(n=Math.sqrt(n),0==n)return!1;for(var a=0;e>a;a++)r[a]=t[a]/n;return r}}),define("yang/build/func/crossVector",[],function(){return function(t,e){var n=[];return n[0]=t[1]*e[2]-t[2]*e[1],n[1]=t[2]*e[0]-t[0]*e[2],n[2]=t[0]*e[1]-t[1]*e[0],n}}),define("yang/build/func/rotateMatrix",[],function(){return function(t,e){var n=t[0],r=t[1],a=t[2],i=e,o=Math.sin(i)/2,u=Math.sin(i/2)*Math.sin(i/2),c=new Float32Array(16);return c[0]=1-2*(r*r+a*a)*u,c[1]=2*(n*r*u+a*o),c[2]=2*(n*a*u-r*o),c[4]=2*(n*r*u-a*o),c[5]=1-2*(n*n+a*a)*u,c[6]=2*(r*a*u+n*o),c[8]=2*(n*a*u+r*o),c[9]=2*(r*a*u-n*o),c[10]=1-2*(n*n+r*r)*u,c[15]=1,c}}),define("yang/build/trackball",["../var/document","../var/prefixJs","../var/prefixCss","../var/trsfm","../var/getStyle","../var/touchPos","../var/findPos","../var/bindEvent","../var/unbindEvent","../var/requestAnim","../var/cancelAnim","./func/configVar","./func/multiplyMatrix3d","./func/calcAngle","./func/calcZ","./func/normalize","./func/crossVector","./func/rotateMatrix"],function(t,e,n,r,a,i,o,u,c,s,f,l,d,g,m,y,v,p){var b=function(t){this.config={},this.setup(t)};b.prototype.setup=function(r){function b(e){D&&0!==L&&q(),z=m(i(e),F,T),O=P,B=(new Date).getTime(),c(j.stage,"mousedown",b),u(t,"mousemove",h),u(t,"mouseup",w)}function h(t){return t.preventDefault(),N=m(i(t),F,T),N[0]==z[0]&&N[1]==z[1]&&N[2]==z[2]?!1:(O=P,k=y(v(z,N)),P=g(z,N),J=!1,void x())}function w(e){return e.preventDefault(),c(t,"mousemove",h),c(t,"mouseup",w),u(j.stage,"mousedown",b),k==[]||isNaN(k[0])||isNaN(k[1])||isNaN(k[2])?!1:(C=(new Date).getTime(),M(),void(S&&L>0?(J=!0,s(A)):q()))}function x(){j.obj.style[e+"Transform"]="rotate3d("+k+", "+P+"rad) matrix3d("+I+")",Y=s(x),J&&f(Y)}function M(){var t=P-O,e=C-B;L=Math.abs(t*(1e3/60)/e),isNaN(L)?L=0:V>0&&L>V&&(L=V)}function A(){P+=L,L=L>0?L-X*Math.sqrt(L):0,j.obj.style[e+"Transform"]="rotate3d("+k+","+P+"rad) matrix3d("+I+")",0===L?(f(H),q()):H=s(A)}function q(){J=!0;var t=p(k,P);I=d(I,t),O=P=L=0}var R,j=this,S=!0,E=0,_=0,T=0,F=0,z=[],N=[],k=[1,1,1],O=0,P=0,B=0,C=0,I=new Float32Array(16),L=0,D=!0,V=.5,X=.01,Y=null,H=null,J=!1;!function(){for(var e in r)j.config[e]=r[e];return j.stage=j.config.stage||t.getElementsByTagName("body")[0],j.obj=j.config.obj,j.obj&&"object"==typeof j.obj?(S=l(S,j.config.impulse),D=l(D,j.config.resetMotion),V=l(V,j.config.omegaCap),X=l(X,j.config.lambda),F=o(j.stage),E=j.stage.offsetWidth/2,_=j.stage.offsetHeight/2,T=_>E?_:E,R=a(j.obj,n+"transform"),"none"==R?(I[0]=1,I[5]=1,I[10]=1,I[15]=1):(I=R.split(","),I[0]=I[0].replace(/(matrix3d\()/g,""),I[15]=I[15].replace(/\)/g,""),I=new Float32Array(I)),void u(j.stage,"mousedown",b)):(console.error("rotating object not found"),!1)}()},window.Trackball=b}),define("yang/yang-space",["./var/document","./build/build_space","./build/trackball"],function(t,e,n){var r=t.getElementById("stage"),a=t.getElementById("galaxy"),i=new BuildSpace({stage:r,rotateObj:a,radius:140,gap:120,unit:"px"});new Trackball({stage:r,obj:a,impulse:!0,resetMotion:!0,omegaGap:.8,lambda:.001});i.setOperation([{selector:".ctg_btn",radius:100},{selector:".item_btn",radius:100}]),i.zoom(),i.click()}),requirejs.config({baseUrl:"public/js",paths:{app:"../js/yang"}}),requirejs(["yang/yang-space"]),define("build-yang-space",function(){});