webpackJsonp([1,4],{"+7sf":function(n,t,e){"use strict";var i=e("/pnX");e.d(t,"a",function(){return o});var o=function(){function n(n){var t=this;this.messageService=n,this.subscription=n.message$.subscribe(function(n){t.showMessage=t.messageService.showMessage,t.message=n})}return n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.ctorParameters=function(){return[{type:i.a}]},n}()},"/D+n":function(n,t,e){"use strict";var i=e("EEr4"),o=(e.n(i),e("Js6w")),r=e("HI7R"),l=e("hgfE"),s=e("VZbg");e.d(t,"a",function(){return u});var u=function(){function n(n,t,e){this.apiRoutes=n,this.apiHttp=t,this.concentricService=e,this.spacesSource=new i.Subject,this.spaces$=this.spacesSource.asObservable(),this.spacePositions=[],this.spacePositionsSource=new i.Subject,this.spacePositions$=this.spacePositionsSource.asObservable()}return n.prototype.getHomeSpaceList=function(){return this.apiHttp.get(this.apiRoutes.home)},n.prototype.getSearchSpaceList=function(n){var t=new FormData;return t.append("name",n),this.apiHttp.post(this.apiRoutes.searchSpace,t)},n.prototype.setSpaces=function(n){this.spacePositions=this.concentricService.setConcentricCircles(n.length,{a:25,b:18,k:5,g:3}),this.spacePositionsSource.next(this.spacePositions),n&&(this.spaces=n,this.spacesSource.next(this.spaces))},n.prototype.addEmptySpace=function(){this.spaces.unshift(new s.a),this.spacesSource.next(this.spaces),this.setSpaces(this.spaces)},n.prototype.addNewSpace=function(n){this.spaces[0]=n,this.addEmptySpace()},n.ctorParameters=function(){return[{type:o.a},{type:r.a},{type:l.a}]},n}()},"/fcW":function(n,t){function e(n){throw new Error("Cannot find module '"+n+"'.")}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="/fcW"},"/pnX":function(n,t,e){"use strict";var i=e("EEr4"),o=(e.n(i),e("4ptE")),r=e("ioEY"),l=e("kZql");e.d(t,"a",function(){return s});var s=function(){function n(n){this.userService=n,this.showMessage=!1,this.messageSource=new i.Subject,this.message$=this.messageSource.asObservable()}return n.prototype.setWebSocket=function(){var n=this;if(!(this.webSocket instanceof o.a)){var t=this.userService.getUserProperty("user_id");t&&(this.webSocket=new o.a,this.webSocket.setUrl(l.a.ws+"?user_id="+t),this.webSocket.getDataStream().subscribe(function(t){n.showFlashMessage(t.data),console.log(t.data)},function(n){console.log("error",n)},function(){console.log("complete")}))}},n.prototype.endWebSocket=function(){this.webSocket.close()},n.prototype.showFlashMessage=function(n){var t=this;this.showMessage=!0,this.messageSource.next(n),this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(function(){t.hide(),delete t.timeOut},5e3)},n.prototype.hide=function(){this.showMessage=!1,this.messageSource.next("")},n.prototype.handleResponse=function(n,t){500==n.status?this.showFlashMessage(n.error):t instanceof Function?t():"string"==typeof t&&this.showFlashMessage("message."+t)},n.ctorParameters=function(){return[{type:r.a}]},n}()},0:function(n,t,e){n.exports=e("x35b")},"0/G1":function(n,t,e){"use strict";var i=e("YBOn"),o=e("SPyB"),r=e("ioEY");e.d(t,"a",function(){return l});var l=function(){function n(n){this.userService=n}return n.prototype.getLanguagePackage=function(){var n;switch(this.userService.getUserProperty("language")){case"en":n=o.a;break;default:n=i.a}return n},n.prototype.translate=function(n){var t=this.getLanguagePackage();if(!n)return n;var e=n.split(".");try{if(e[1].match(/-/)){var i=e[1].split("-");if(2==i.length)return t[e[0]][i[0]].replace(/%1%/,i[1]);if(3==i.length){return t[e[0]][i[0]].replace(/%1%/,i[1]).replace(/%2%/,i[2])}}return t[e[0]][e[1]]}catch(t){return n}},n.ctorParameters=function(){return[{type:r.a}]},n}()},"0/nx":function(n,t,e){"use strict";var i=e("0/G1");e.d(t,"a",function(){return o});var o=function(){function n(n){this.langService=n}return n.prototype.transform=function(n){return this.langService.translate(n)||n},n.ctorParameters=function(){return[{type:i.a}]},n}()},"17UW":function(n,t,e){"use strict";function i(n){return s._24(0,[(n()(),s._25(0,null,null,5,"div",[["class","space-box"]],null,null,null,null,null)),(n()(),s._27(null,["\n    "])),(n()(),s._25(0,null,null,2,"div",[["class","space"]],null,[[null,"click"]],function(n,t,e){var i=!0;if("click"===t){i=!1!==s._31(n,3).onClick()&&i}return i},null,null)),s._26(8192,null,0,u.z,[u.j,u.v,[8,null],s.K,s.L],{routerLink:[0,"routerLink"]},null),(n()(),s._27(null,["\n        ","\n    "])),(n()(),s._27(null,["\n"]))],function(n,t){n(t,3,0,"/space/"+t.component.space.space_id)},function(n,t){n(t,4,0,t.component.space.name)})}function o(n){return s._24(0,[(n()(),s._32(8388608,null,null,1,null,i)),s._26(8192,null,0,a.l,[s.T,s._6],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.space)},null)}function r(n){return s._24(0,[(n()(),s._25(0,null,null,1,"ctg-history",[],null,null,null,o,d)),s._26(2220032,null,0,c.a,[u.v,_.a,g.a,h.a],null,null)],function(n,t){n(t,1,0)},null)}var l=e("U4iw"),s=e("3j3K"),u=e("5oXY"),a=e("2Je8"),c=e("eFS+"),_=e("Js6w"),g=e("HI7R"),h=e("wVUY");e.d(t,"b",function(){return d}),t.a=o;var p=[l.a],d=s._23({encapsulation:0,styles:p,data:{}});s._28("ctg-history",c.a,r,{},{},[])},"1A80":function(n,t,e){"use strict";function i(n){return l._24(0,[(n()(),l._25(8388608,null,null,1,"router-outlet",[],null,null,null,null,null)),l._26(73728,null,0,s.y,[s.l,l.T,l.U,[8,null]],null,null),(n()(),l._27(null,["\n"])),(n()(),l._25(0,null,null,1,"message",[],null,null,null,u.a,u.b)),l._26(90112,null,0,a.a,[c.a],null,null)],null,null)}function o(n){return l._24(0,[(n()(),l._25(0,null,null,1,"app-root",[],null,null,null,i,f)),l._26(57344,null,0,_.a,[g.a,h.a,p.a,c.a],null,null)],function(n,t){n(t,1,0)},null)}var r=e("l0Vc"),l=e("3j3K"),s=e("5oXY"),u=e("8zUs"),a=e("+7sf"),c=e("/pnX"),_=e("YWx4"),g=e("ioEY"),h=e("Js6w"),p=e("HI7R");e.d(t,"a",function(){return m});var d=[r.a],f=l._23({encapsulation:0,styles:d,data:{}}),m=l._28("app-root",_.a,o,{},{},[])},"1SSX":function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return n}()},"2Y0G":function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("SpiralModule is already loaded. Import it in the AppModule only")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},"3I0U":function(n,t,e){"use strict";var i=e("/D+n"),o=e("ioEY"),r=e("/pnX");e.d(t,"a",function(){return l});var l=function(){function n(n,t,e){this.spaceService=n,this.userService=t,this.messageService=e,this.spaceName="",this.searchInProgress=!1,this.searched=!1,this.user=this.userService.getUserModel()}return n.prototype.ngOnInit=function(){var n=this;this.subscriptionUser=this.userService.userModel$.subscribe(function(t){return n.user=t})},n.prototype.ngOnDestroy=function(){this.subscriptionUser.unsubscribe()},n.prototype.searchSpace=function(){var n=this;this.spaceName&&(this.searchInProgress||(this.searchInProgress=!0,this.spaceService.getSearchSpaceList(this.spaceName).subscribe(function(t){n.spaceService.setSpaces(t),n.searched=!0,n.searchInProgress=!1})))},n.prototype.showAll=function(){var n=this;this.searchInProgress||(this.searchInProgress=!0,this.spaceService.getHomeSpaceList().subscribe(function(t){n.spaceService.setSpaces(t),n.searched=!1,n.searchInProgress=!1}))},n.prototype.fetchUrl=function(n){this.messageService.webSocket.send4Direct(JSON.stringify({url:n}))},n.ctorParameters=function(){return[{type:i.a},{type:o.a},{type:r.a}]},n}()},"414k":function(n,t,e){"use strict";var i=e("4v+s");e.d(t,"a",function(){return o});var o=function(){function n(n){this.css=n,this.radius=200,this.gap=10,this.N=0,this.prevTier=0,this.allPos=[],this.tierPos=[]}return n.prototype.setSphere=function(n){return this.nodeList=document.body.querySelectorAll(n),this.stage=document.getElementById("stage"),!(!this.nodeList.length||!this.stage)&&(this.diffuse(),this.N=0,this.prevTier=0,this.allPos=[],this.tierPos=[],!0)},n.prototype.diffuse=function(){var n=this.stage.querySelectorAll(".tier-"+this.prevTier);if(n.length){this.N=this.prevTier?this.maxPoint(n,2*this.N):n.length,this.radius+=this.gap,this.tierPos=this.fibonacciSphere(this.N,this.radius);var t,e=0,o=null,r=null,l=null,s=0,u=0;do{l=n[e].dataset,s=l.pid,u=l.ctg_id,this.prevTier?(o=this.allPos[s],r=this.closestPoint(o,this.tierPos),t=this.tierPos[r],this.tierPos.splice(r,1)):t=this.tierPos[e],n[e].style[this.css.getTransform]="translate3d("+t.tx+"px, "+t.ty+"px, "+t.tz+"px)rotateY("+t.ry+"rad)rotateX("+t.rx+"rad)",n[e].style[this.css.getTransform]=i.a.getStyle(n[e],"transform"),u&&(this.allPos[u]={x:t.tx,y:t.ty,z:t.tz}),e++}while(e<n.length);this.prevTier++,this.diffuse()}},n.prototype.fibonacciSphere=function(n,t){var e=Math.PI*(3-Math.sqrt(5)),i=2/n,o=0,r=1-i/2,l=0,s=[],u=0,a=0,c=0,_=0,g=0,h=0,p=0;do{l=Math.sqrt(1-r*r),u=Math.cos(o)*l*t,a=Math.sin(o)*l*t,c=r*t,r-=i,o+=e,h=c/Math.abs(c),h=isNaN(h)?1:h,g=h>0?Math.atan(u/c)+Math.PI:Math.atan(u/c),_=Math.asin(a/t),s[p]={tx:u,ty:a,tz:c,ry:g,rx:_},p++}while(p<n);return s},n.prototype.maxPoint=function(n,t){var e=[],i=[],o=-1,r=0;do{if(n[r]instanceof Object){var l=n[r].dataset.pid;void 0===e[l]?(o++,e[l]=!0,i[o]=1):i[o]++,r++}}while(r<n.length);var s=i.length,u=Math.max.apply(null,i);return Math.max(s*u,n.length,t)},n.prototype.closestPoint=function(n,t){var e=null,i=0,o=0,r=0,l=0,s=0,u=0;do{r=t[u].tx-n.x,l=t[u].ty-n.y,s=t[u].tz-n.z,i=Math.sqrt(r*r+l*l+s*s),null!==e?(i<e&&(e=i,o=u),u++):(e=i,o=u)}while(u<t.length);return o},n.ctorParameters=function(){return[{type:i.a}]},n}();(function(){function n(){}})(),function(){function n(){}}()},"4ptE":function(n,t,e){"use strict";var i=e("rCTf"),o=(e.n(i),e("EEr4"));e.n(o);e.d(t,"a",function(){return r});var r=function(){function n(){this.reconnectAttempts=0,this.sendQueue=[],this.onOpenCallbacks=[],this.onMessageCallbacks=[],this.onErrorCallbacks=[],this.onCloseCallbacks=[],this.readyStateConstants={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3,RECONNECT_ABORTED:4},this.normalCloseCode=1e3,this.reconnectableStatusCodes=[4e3],this.send4Mode=l.Observable,this.config=this.config||{initialTimeout:500,maxTimeout:3e5,reconnectIfNotNormalClose:!1},this.binaryType="blob",this.dataStream=new o.Subject}return n.prototype.setUrl=function(n){if(this.url=n,!new RegExp("wss?://").test(n))throw new Error("Invalid url provided");this.connect(!0)},n.prototype.connect=function(n){var t=this;void 0===n&&(n=!1);var e=this;!n&&this.socket&&this.socket.readyState===this.readyStateConstants.OPEN||(e.socket=this.protocols?new WebSocket(this.url,this.protocols):new WebSocket(this.url),e.socket.binaryType=e.binaryType,e.socket.onopen=function(n){t.onOpenHandler(n)},e.socket.onmessage=function(n){e.onMessageHandler(n),t.dataStream.next(n)},this.socket.onclose=function(n){e.onCloseHandler(n)},this.socket.onerror=function(n){e.onErrorHandler(n),t.dataStream.error(n)})},n.prototype.send4Direct=function(n){var t=this;return this.getReadyState()!==this.readyStateConstants.OPEN&&this.getReadyState()!==this.readyStateConstants.CONNECTING&&this.connect(),t.sendQueue.push({message:n}),t.socket.readyState===t.readyStateConstants.OPEN&&(t.fireQueue(),!0)},n.prototype.send4Promise=function(n){var t=this;return new Promise(function(e,i){return t.send4Direct(n)?e():i(Error("Socket connection has been closed"))})},n.prototype.send4Observable=function(n){var t=this;return i.Observable.create(function(e){return t.send4Direct(n)?e.complete():e.error("Socket connection has been closed")})},n.prototype.setSend4Mode=function(n){this.send4Mode=n},n.prototype.send=function(n,t){switch(void 0!==t?t:this.send4Mode){case l.Direct:return this.send4Direct(n);case l.Promise:return this.send4Promise(n);case l.Observable:return this.send4Observable(n);default:throw Error("WebSocketSendMode Error.")}},n.prototype.getDataStream=function(){return this.dataStream},n.prototype.onOpenHandler=function(n){this.reconnectAttempts=0,this.notifyOpenCallbacks(n),this.fireQueue()},n.prototype.notifyOpenCallbacks=function(n){for(var t=0;t<this.onOpenCallbacks.length;t++)this.onOpenCallbacks[t].call(this,n)},n.prototype.fireQueue=function(){for(;this.sendQueue.length&&this.socket.readyState===this.readyStateConstants.OPEN;){var t=this.sendQueue.shift();this.socket.send(n.Helpers.isString(t.message)?t.message:JSON.stringify(t.message))}},n.prototype.notifyCloseCallbacks=function(n){for(var t=0;t<this.onCloseCallbacks.length;t++)this.onCloseCallbacks[t].call(this,n)},n.prototype.notifyErrorCallbacks=function(n){for(var t=0;t<this.onErrorCallbacks.length;t++)this.onErrorCallbacks[t].call(this,n)},n.prototype.onOpen=function(n){return this.onOpenCallbacks.push(n),this},n.prototype.onClose=function(n){return this.onCloseCallbacks.push(n),this},n.prototype.onError=function(n){return this.onErrorCallbacks.push(n),this},n.prototype.onMessage=function(t,e){if(!n.Helpers.isFunction(t))throw new Error("Callback must be a function");return this.onMessageCallbacks.push({fn:t,pattern:e?e.filter:void 0,autoApply:!e||e.autoApply}),this},n.prototype.onMessageHandler=function(n){for(var t,e=this,i=0;i<e.onMessageCallbacks.length;i++)t=e.onMessageCallbacks[i],t.fn.apply(e,[n])},n.prototype.onCloseHandler=function(n){this.notifyCloseCallbacks(n),this.config.reconnectIfNotNormalClose&&n.code!==this.normalCloseCode||this.reconnectableStatusCodes.indexOf(n.code)>-1?this.reconnect():(this.sendQueue=[],this.dataStream.complete())},n.prototype.onErrorHandler=function(n){this.notifyErrorCallbacks(n)},n.prototype.reconnect=function(){var n=this;this.close(!0);var t=this.getBackoffDelay(++this.reconnectAttempts);return setTimeout(function(){return n.connect()},t),this},n.prototype.close=function(n){return void 0===n&&(n=!1),!n&&this.socket.bufferedAmount||this.socket.close(this.normalCloseCode),this},n.prototype.getBackoffDelay=function(n){var t=Math.random()+1,e=this.config.initialTimeout,i=n,o=this.config.maxTimeout;return Math.floor(Math.min(t*e*Math.pow(2,i),o))},n.prototype.setInternalState=function(n){if(Math.floor(n)!==n||n<0||n>4)throw new Error("state must be an integer between 0 and 4, got: "+n);this.internalConnectionState=n},n.prototype.getReadyState=function(){return null==this.socket?-1:this.internalConnectionState||this.socket.readyState},n.ctorParameters=function(){return[]},n}();r.Helpers=function(){function n(){}return n.isPresent=function(n){return void 0!==n&&null!==n},n.isString=function(n){return"string"==typeof n},n.isArray=function(n){return Array.isArray(n)},n.isFunction=function(n){return"function"==typeof n},n}();var l;!function(n){n[n.Direct=0]="Direct",n[n.Promise=1]="Promise",n[n.Observable=2]="Observable"}(l||(l={}))},"4v+s":function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return Object.defineProperty(n.prototype,"getPrefixJs",{get:function(){var n=navigator.userAgent.toLowerCase();return/webkit/gi.test(n)?this.prefixJs="Webkit":/msie | trident/gi.test(n)?this.prefixJs="ms":/mozilla/gi.test(n)?this.prefixJs="Moz":/opera/gi.test(n)&&(this.prefixJs="O"),this.prefixJs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getTransform",{get:function(){return this.transform=this.getPrefixJs+"Transform"in document.documentElement.style?this.getPrefixJs+"Transform":"transform",this.transform},enumerable:!0,configurable:!0}),n.getStyle=function(n,t){return document.defaultView.getComputedStyle(n,"").getPropertyValue(t)},Object.defineProperty(n.prototype,"remPx",{get:function(){return this.remToPx=Number(getComputedStyle(document.body,"").fontSize.match(/(\d+)px/)[1]),this.remToPx},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bw",{get:function(){return this.bodyWidth=document.body.clientWidth,this.bodyWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bh",{get:function(){return this.bodyHeight=window.innerHeight,this.bodyHeight},enumerable:!0,configurable:!0}),n}()},"5b5C":function(n,t,e){"use strict";function i(n){return l._24(0,[(n()(),l._25(0,null,null,4,"div",[["class","search-box"]],null,null,null,null,null)),(n()(),l._27(null,["\n    "])),(n()(),l._25(0,[["searchName",1]],null,1,"input",[["class","search-input"],["type","text"]],[[8,"placeholder",0]],[[null,"keyup.enter"]],function(n,t,e){var i=!0,o=n.component;if("keyup.enter"===t){i=!1!==o.searchUser(l._31(n,2).value)&&i}return i},null,null)),l._29(0,u.a,[a.a]),(n()(),l._27(null,["\n"]))],null,function(n,t){n(t,2,0,l._34(1,"",l._30(t,2,0,l._31(t,3).transform("user.search_friends_placeholder")),""))})}function o(n){return l._24(0,[(n()(),l._25(0,null,null,1,"friends-search",[],null,null,null,i,p)),l._26(24576,null,0,s.a,[c.a,_.a,g.a],null,null)],null,null)}var r=e("z/LA"),l=e("3j3K"),s=e("ZlrU"),u=e("0/nx"),a=e("0/G1"),c=e("HI7R"),_=e("Js6w"),g=e("Z6Jw");e.d(t,"b",function(){return p}),t.a=i;var h=[r.a],p=l._23({encapsulation:0,styles:h,data:{}});l._28("friends-search",s.a,o,{},{},[])},"5eC+":function(n,t,e){"use strict";var i=e("ioEY"),o=e("Js6w"),r=e("HI7R"),l=e("/D+n"),s=e("/pnX"),u=e("64fA");e.d(t,"a",function(){return a});var a=function(){function n(n,t,e,i,o){var r=this;this.userService=n,this.apiRoutes=t,this.apiHttp=e,this.spaceService=i,this.messageService=o,this.user=this.userService.getUserModel(),this.invalidEmail=!1,this.authError=!1,this.languages=u.a,this.timeString=(new Date).getTime(),this.subscription=n.userModel$.subscribe(function(n){r.user=n})}return n.prototype.ngOnInit=function(){},n.prototype.checkEmail=function(){this.invalidEmail=!this.userService.emailPattern.test(this.user.email)},n.prototype.onSubmit=function(){var n=this,t=new FormData;t.append("email",this.user.email),t.append("password",this.user.password),this.apiHttp.post(this.apiRoutes.login,t).subscribe(function(t){n.userService.setUserProperties({access_token:t.access_token,refresh_token:t.refresh_token}),n.user.access_token?(n.userService.saveLocalAccessToken(n.user.access_token),n.apiHttp.get(n.apiRoutes.user).subscribe(function(t){n.userService.saveUserModel(t),n.messageService.setWebSocket(),n.spaceService.getHomeSpaceList().subscribe(function(t){n.spaceService.setSpaces(t),n.spaceService.addEmptySpace()})})):n.authError=!0})},n.prototype.switchLang=function(n){this.userService.setUserProperties({language:n.key})},n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.ctorParameters=function(){return[{type:i.a},{type:o.a},{type:r.a},{type:l.a},{type:s.a}]},n}()},"64fA":function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=[{key:"zh",name:"中",fullName:"中文"},{key:"en",name:"EN",fullName:"English"}]},"7hs6":function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}#stage[_ngcontent-%COMP%]{-webkit-perspective:700px;perspective:700px;-webkit-perspective-origin:50% 50%;perspective-origin:50% 50%;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;position:absolute;width:100%;height:100%;top:0;left:0}#stage[_ngcontent-%COMP%]:hover{cursor:hand}#stage[_ngcontent-%COMP%]   .space-item[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;display:block;position:absolute;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:4rem;height:2rem;padding:0 .2rem;top:50%;left:50%;margin:-1rem 0 0 -2.2rem;line-height:2rem;text-align:center;color:#fff;background-color:#9d9d9d}#stage[_ngcontent-%COMP%]   .space-item[_ngcontent-%COMP%]:hover{cursor:pointer}#stage[_ngcontent-%COMP%]   .space-item[_ngcontent-%COMP%]   input#addNewSpace[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:0;left:0;width:100%;height:100%;line-height:2rem;text-indent:.2rem}']},"8zUs":function(n,t,e){"use strict";function i(n){return s._24(0,[(n()(),s._25(0,null,null,5,"div",[["class","message-box"]],null,null,null,null,null)),(n()(),s._27(null,["\n    "])),(n()(),s._25(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),s._27(null,["",""])),s._29(0,u.a,[a.a]),(n()(),s._27(null,["\n"]))],null,function(n,t){var e=t.component;n(t,3,0,s._30(t,3,0,s._31(t,4).transform(e.message)))})}function o(n){return s._24(0,[(n()(),s._32(8388608,null,null,1,null,i)),s._26(8192,null,0,c.l,[s.T,s._6],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.showMessage)},null)}function r(n){return s._24(0,[(n()(),s._25(0,null,null,1,"message",[],null,null,null,o,p)),s._26(90112,null,0,_.a,[g.a],null,null)],null,null)}var l=e("DHfy"),s=e("3j3K"),u=e("0/nx"),a=e("0/G1"),c=e("2Je8"),_=e("+7sf"),g=e("/pnX");e.d(t,"b",function(){return p}),t.a=o;var h=[l.a],p=s._23({encapsulation:0,styles:h,data:{}});s._28("message",_.a,r,{},{},[])},"9X4+":function(n,t,e){"use strict";var i=e("ULho"),o=(e.n(i),e("3mde")),r=e.n(o);e.d(t,"a",function(){return l});var l=function(){function n(){this.view_angle=50,this.near=.1,this.far=1e3,this.data=[],this.tierCtgNum=0,this.firstTime=!0}return n.prototype.processData=function(n){this.data=[];for(var t=0;t<n.length;)this.data[n[t].tier]?this.data[n[t].tier].push(n[t]):this.data[n[t].tier]=[n[t]],t++},n.prototype.initWebGL=function(){this.container=document.getElementById("canvas-frame"),this.width=this.container.clientWidth,this.height=this.container.clientHeight,this.webGLRenderer=new i.WebGLRenderer({antialias:!0}),this.webGLScene=new i.Scene,this.camera=new i.PerspectiveCamera(this.view_angle,this.width/this.height,this.near,this.far),this.mouse=new i.Vector2,this.raycaster=new i.Raycaster,this.webGLRenderer.setClearColor(4018615,1),this.webGLRenderer.setSize(this.width,this.height),this.container.appendChild(this.webGLRenderer.domElement)},n.prototype.trackBallControl=function(){var n=this;this.controls=new r.a(this.camera,this.webGLRenderer.domElement),this.controls.rotateSpeed=1,this.controls.zoomSpeed=1,this.controls.panSpeed=1,this.controls.noZoom=!1,this.controls.noPan=!1,this.controls.staticMoving=!1,this.controls.dynamicDampingFactor=.2,this.controls.keys=[65,83,68],this.controls.addEventListener("change",function(){return n.renderWebGL()})},n.prototype.fibonacciSphere=function(n,t){var e=Math.PI*(3-Math.sqrt(5)),i=2/n,o=0,r=1-i/2,l=0,s=[],u=0,a=0,c=0,_=0,g=0;do{l=Math.sqrt(1-r*r),u=Math.cos(o)*l*t,a=Math.sin(o)*l*t,c=r*t,r-=i,o+=e,_=c/Math.abs(c),_=isNaN(_)?1:_,s[g]={x:u,y:a,z:c},g++}while(g<n);return s},n.prototype.maxPoint=function(n,t){for(var e=[],i=[],o=-1,r=0;r<n.length;){var l=n[r].pid;void 0===e[l]?(o++,e[l]=!0,i[o]=1):i[o]++,r++}var s=Math.max.apply(null,i);return this.tierCtgNum=1==i.length?1:Math.max(this.tierCtgNum,s),Math.max(this.tierCtgNum*s,t,n.length,24)},n.prototype.closestPoint=function(n,t){for(var e=null,i=0,o=0,r=0,l=0,s=0,u=0;u<t.length;)r=t[u].x-n.x,l=t[u].y-n.y,s=t[u].z-n.z,i=Math.sqrt(r*r+l*l+s*s),null!==e?(i<e&&(e=i,o=u),u++):(e=i,o=u);return o},n.prototype.drawTextSprite=function(n){var t=document.createElement("canvas"),e=t.getContext("2d"),o=Math.round(2.55*e.measureText(n).width+12),r=32;o=o<64?64:o,t.width=o,t.height=r,e.font="normal "+2*r/2.5+"px Serial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="rgba(255,255,255,0.7)",e.fillRect(0,0,o,r),e.fillStyle="#000000",e.fillText(n,o/2,r/2);var l=new i.Texture(t);l.needsUpdate=!0;var s=new i.SpriteMaterial({map:l});s.transparent=!0;var u=new i.Sprite(s);return u.scale.set(o/r,1,1),l.dispose(),s.dispose(),t=void 0,u},n.prototype.drawLineBetweenTwoCtg=function(n,t,e){var o=new i.LineBasicMaterial({linewidth:1.5,opacity:.3});o.transparent=!0;var r=new i.Geometry;r.vertices.push(new i.Vector3(n.x,n.y,n.z)),r.vertices.push(new i.Vector3(t.x,t.y,t.z)),r.colors.push(new i.Color(16777215),new i.Color(10705406));var l=new i.Line(r,o);return o.dispose(),r.dispose(),l.name=e,l},n.prototype.buildSpheres=function(){try{this.spriteGroup&&this.webGLScene.remove(this.spriteGroup),this.lineGroup&&this.webGLScene.remove(this.lineGroup),this.spriteGroup=new i.Group,this.lineGroup=new i.Group;var n=void 0,t=5.5,e=0,o=0,r=void 0,l=[],s=void 0,u=void 0;for(var a in this.data)if((n=this.data[a])&&!(n.length<=0)){o=e<=1?n.length:this.maxPoint(n,o);for(var c=0==e?[{x:0,y:0,z:0}]:this.fibonacciSphere(o,t*(e+1)),_=0;_<n.length;_++){var g=this.drawTextSprite(n[_].ctg.title);if(r=c[_],s=n[_].pid,u=n[_].ctg_id,1<=e&&void 0!==l[s]){var h=this.closestPoint(l[s],c);r=c[h],c.splice(h,1)}g.position.set(r.x,r.y,r.z),g.name=n[_].ctg_id.toString(),g.userData=n[_],l[u]=r,this.spriteGroup.add(g),g=void 0,s&&l[s]&&this.lineGroup.add(this.drawLineBetweenTwoCtg(l[s],l[u],s+"-"+u))}e++}this.webGLScene.add(this.spriteGroup),this.webGLScene.add(this.lineGroup),n=null,l=null,this.setCameraPositionAndZoomDistance(t,e)}catch(n){console.warn(n)}},n.prototype.setCameraPositionAndZoomDistance=function(n,t){var e=n*(t+1)*1.8;this.firstTime&&(this.camera.position.set(0,0,e),this.camera.lookAt(this.webGLScene.position)),this.controls.target=new i.Vector3(0,0,0),this.controls.minDistance=0,this.controls.maxDistance=e},n.prototype.renderWebGL=function(){this.webGLRenderer.render(this.webGLScene,this.camera)},n.ctorParameters=function(){return[]},n}()},"9xXt":function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}#canvas-frame[_ngcontent-%COMP%]{width:100%;height:100%}.control-panel[_ngcontent-%COMP%]{position:relative;width:0;height:0;overflow:visible}.control-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;width:2.5rem;height:2.5rem;margin:-1.25rem 0 0 -1.25rem;border-radius:50%;background-color:hsla(0,0%,100%,.4)}.control-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{cursor:pointer}.control-panel[_ngcontent-%COMP%]   #plus[_ngcontent-%COMP%]{top:-6.25rem;left:0}.control-panel[_ngcontent-%COMP%]   #plus[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% 0 0 10%;width:80%;height:80%}.control-panel[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]{top:-4.41942rem;left:4.41942rem}.control-panel[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.control-panel[_ngcontent-%COMP%]   #delete[_ngcontent-%COMP%]{top:0;left:6.25rem}.control-panel[_ngcontent-%COMP%]   #delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% 0 0 10%;width:80%;height:80%}.text-input[_ngcontent-%COMP%]{position:absolute;width:12.5rem;height:2rem;line-height:2rem;margin:-1rem 0 0 2.5rem}.text-box[_ngcontent-%COMP%]{position:fixed;width:30%;height:70%;top:15%;left:12%}.confirm-box[_ngcontent-%COMP%]{position:fixed;width:30rem;height:10rem;top:50%;left:50%;margin:-5rem 0 0 -15rem;background-color:hsla(0,0%,100%,.6)}.confirm-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;margin:2rem auto 0;text-align:center}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;width:5rem;height:2rem;font-size:1.5rem;text-align:center;line-height:1.5rem;left:50%;bottom:1rem}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin:0 0 0 -8rem}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin:0 0 0 3rem}.editor-box[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:100%;top:0;left:0;background-color:#fff}.editor-box[_ngcontent-%COMP%]   .ctg-title[_ngcontent-%COMP%]{width:100%;height:7%;font-size:1.1rem;text-align:center}.editor-box[_ngcontent-%COMP%]   #maximize[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background-image:url(/assets/maximize.svg);background-size:100% 100%}.editor-box[_ngcontent-%COMP%]   #maximize[_ngcontent-%COMP%]:hover{cursor:pointer}.editor-box[_ngcontent-%COMP%]   .ctg-content-data-list[_ngcontent-%COMP%]{position:absolute;width:33.3%;height:auto;max-height:80%;bottom:13%;overflow-x:hidden;overflow-y:auto;background-color:#fff}.editor-box[_ngcontent-%COMP%]   .ctg-content-data-list[_ngcontent-%COMP%]   .tier[_ngcontent-%COMP%]{width:100%;height:1.5rem;text-indent:.2rem;line-height:1.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editor-box[_ngcontent-%COMP%]   .ctg-content-data-list[_ngcontent-%COMP%]   .tier[_ngcontent-%COMP%]:hover{cursor:pointer}.editor-box[_ngcontent-%COMP%]   .ctg-content-input[_ngcontent-%COMP%]{position:absolute;width:33.3%;height:5%;bottom:8%}.editor-box[_ngcontent-%COMP%]   .ctg-content-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%}.editor-box[_ngcontent-%COMP%]   .search-space-position[_ngcontent-%COMP%]{left:50%;margin:0 0 0 -16.65%}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{width:100%;height:8%;position:relative}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]:after{display:table;content:"";clear:both}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:33.3%;height:100%;float:left;text-align:center;white-space:nowrap}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#aecaff;color:#fff}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before{content:"";display:inline-block;vertical-align:middle;height:100%}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;width:100%}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:100%}']},A7RG:function(n,t,e){"use strict";function i(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.email_required")))})}function o(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.password_required")))})}function r(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.confirm_password_required")))})}function l(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.name_required")))})}function s(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.email_validation")))})}function u(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.confirm_password_invalid")))})}function a(n){return h._24(0,[(n()(),h._25(0,null,null,2,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "]))],null,function(n,t){n(t,2,0,t.component.serverErrorMessage)})}function c(n){return h._24(0,[(n()(),h._25(0,null,null,2,"div",[["class","go-back home"]],null,[[null,"click"]],function(n,t,e){var i=!0;if("click"===t){i=!1!==h._31(n,1).onClick()&&i}return i},null,null)),h._26(8192,null,0,m.z,[m.j,m.v,[8,null],h.K,h.L],{routerLink:[0,"routerLink"]},null),(n()(),h._27(null,["\n"])),(n()(),h._27(null,["\n"])),(n()(),h._25(0,null,null,97,"div",[["class","user-register"]],null,null,null,null,null)),(n()(),h._27(null,["\n    "])),(n()(),h._25(0,null,null,94,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var i=!0,o=n.component;if("submit"===t){i=!1!==h._31(n,8).onSubmit(e)&&i}if("reset"===t){i=!1!==h._31(n,8).onReset()&&i}if("ngSubmit"===t){i=!1!==o.onSubmit()&&i}return i},null,null)),h._26(8192,null,0,v.g,[],null,null),h._26(8192,[["registerForm",4]],0,v.h,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),h._35(1024,null,v.i,null,[v.h]),h._26(8192,null,0,v.j,[v.i],null,null),(n()(),h._27(null,["\n\n        "])),(n()(),h._25(0,null,null,12,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,9,"input",[["id","email"],["maxlength","255"],["name","email"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==h._31(n,15)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==h._31(n,15).onTouched()&&i}if("compositionstart"===t){i=!1!==h._31(n,15)._compositionStart()&&i}if("compositionend"===t){i=!1!==h._31(n,15)._compositionEnd(e.target.value)&&i}if("ngModelChange"===t){i=!1!==(o.registerModel.email=e)&&i}if("keyup.enter"===t){i=!1!==o.checkEmail()&&i}if("blur"===t){i=!1!==o.checkEmail()&&i}return i},null,null)),h._26(8192,null,0,v.k,[h.K,h.L,[2,v.l]],null,null),h._26(8192,null,0,v.q,[],{required:[0,"required"]},null),h._26(270336,null,0,v.r,[],{maxlength:[0,"maxlength"]},null),h._35(512,null,v.s,function(n,t){return[n,t]},[v.q,v.r]),h._35(512,null,v.m,function(n){return[n]},[v.k]),h._26(335872,[["email",4]],0,v.n,[[2,v.i],[2,v.s],[8,null],[2,v.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),h._35(1024,null,v.o,null,[v.n]),h._26(8192,null,0,v.p,[v.o],null,null),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n        "])),(n()(),h._25(0,null,null,13,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,10,"input",[["id","password"],["maxlength","32"],["minlength","6"],["name","password"],["required",""],["type","password"]],[[8,"placeholder",0],[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==h._31(n,29)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==h._31(n,29).onTouched()&&i}if("compositionstart"===t){i=!1!==h._31(n,29)._compositionStart()&&i}if("compositionend"===t){i=!1!==h._31(n,29)._compositionEnd(e.target.value)&&i}if("ngModelChange"===t){i=!1!==(o.registerModel.password=e)&&i}return i},null,null)),h._26(8192,null,0,v.k,[h.K,h.L,[2,v.l]],null,null),h._26(8192,null,0,v.q,[],{required:[0,"required"]},null),h._26(270336,null,0,v.t,[],{minlength:[0,"minlength"]},null),h._26(270336,null,0,v.r,[],{maxlength:[0,"maxlength"]},null),h._35(512,null,v.s,function(n,t,e){return[n,t,e]},[v.q,v.t,v.r]),h._35(512,null,v.m,function(n){return[n]},[v.k]),h._26(335872,[["password",4]],0,v.n,[[2,v.i],[2,v.s],[8,null],[2,v.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),h._35(1024,null,v.o,null,[v.n]),h._26(8192,null,0,v.p,[v.o],null,null),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n        "])),(n()(),h._25(0,null,null,13,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,10,"input",[["id","confirm_password"],["maxlength","32"],["minlength","6"],["name","confirm_password"],["required",""],["type","password"]],[[8,"placeholder",0],[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==h._31(n,44)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==h._31(n,44).onTouched()&&i}if("compositionstart"===t){i=!1!==h._31(n,44)._compositionStart()&&i}if("compositionend"===t){i=!1!==h._31(n,44)._compositionEnd(e.target.value)&&i}if("ngModelChange"===t){i=!1!==(o.registerModel.confirm_password=e)&&i}if("keyup.enter"===t){i=!1!==o.confirmPassword()&&i}if("blur"===t){i=!1!==o.confirmPassword()&&i}return i},null,null)),h._26(8192,null,0,v.k,[h.K,h.L,[2,v.l]],null,null),h._26(8192,null,0,v.q,[],{required:[0,"required"]},null),h._26(270336,null,0,v.t,[],{minlength:[0,"minlength"]},null),h._26(270336,null,0,v.r,[],{maxlength:[0,"maxlength"]},null),h._35(512,null,v.s,function(n,t,e){return[n,t,e]},[v.q,v.t,v.r]),h._35(512,null,v.m,function(n){return[n]},[v.k]),h._26(335872,[["confirm_password",4]],0,v.n,[[2,v.i],[2,v.s],[8,null],[2,v.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),h._35(1024,null,v.o,null,[v.n]),h._26(8192,null,0,v.p,[v.o],null,null),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n        "])),(n()(),h._25(0,null,null,12,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,9,"input",[["id","name"],["maxlength","45"],["name","name"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==h._31(n,59)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==h._31(n,59).onTouched()&&i}if("compositionstart"===t){i=!1!==h._31(n,59)._compositionStart()&&i}if("compositionend"===t){i=!1!==h._31(n,59)._compositionEnd(e.target.value)&&i}if("ngModelChange"===t){i=!1!==(o.registerModel.name=e)&&i}return i},null,null)),h._26(8192,null,0,v.k,[h.K,h.L,[2,v.l]],null,null),h._26(8192,null,0,v.q,[],{required:[0,"required"]},null),h._26(270336,null,0,v.r,[],{maxlength:[0,"maxlength"]},null),h._35(512,null,v.s,function(n,t){return[n,t]},[v.q,v.r]),h._35(512,null,v.m,function(n){return[n]},[v.k]),h._26(335872,[["name",4]],0,v.n,[[2,v.i],[2,v.s],[8,null],[2,v.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),h._35(1024,null,v.o,null,[v.n]),h._26(8192,null,0,v.p,[v.o],null,null),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n\n        "])),(n()(),h._25(0,null,null,5,"div",[["class","form-panel"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,2,"button",[["type","submit"]],null,null,null,null,null)),(n()(),h._27(null,["",""])),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n\n        "])),(n()(),h._25(0,null,null,22,"div",[["class","message-box"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,i)),h._26(8192,null,0,C.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,o)),h._26(8192,null,0,C.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,r)),h._26(8192,null,0,C.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,l)),h._26(8192,null,0,C.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,s)),h._26(8192,null,0,C.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,u)),h._26(8192,null,0,C.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,a)),h._26(8192,null,0,C.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n\n    "])),(n()(),h._27(null,["\n"]))],function(n,t){var e=t.component;n(t,1,0,"/home"),n(t,16,0,""),n(t,17,0,"255"),n(t,20,0,"email",e.registerModel.email),n(t,30,0,""),n(t,31,0,"6"),n(t,32,0,"32"),n(t,35,0,"password",e.registerModel.password),n(t,45,0,""),n(t,46,0,"6"),n(t,47,0,"32"),n(t,50,0,"confirm_password",e.registerModel.confirm_password),n(t,60,0,""),n(t,61,0,"45"),n(t,64,0,"name",e.registerModel.name),n(t,80,0,!(h._31(t,20).valid||h._31(t,20).pristine)),n(t,83,0,!(h._31(t,35).valid||h._31(t,35).pristine)),n(t,86,0,!(h._31(t,50).valid||h._31(t,50).pristine)),n(t,89,0,!(h._31(t,64).valid||h._31(t,64).pristine)),n(t,92,0,e.invalidEmail),n(t,95,0,e.invalidConfirmPassword),n(t,98,0,e.serverError)},function(n,t){n(t,6,0,h._31(t,10).ngClassUntouched,h._31(t,10).ngClassTouched,h._31(t,10).ngClassPristine,h._31(t,10).ngClassDirty,h._31(t,10).ngClassValid,h._31(t,10).ngClassInvalid,h._31(t,10).ngClassPending),n(t,14,0,h._34(1,"",h._30(t,14,0,h._31(t,23).transform("user.email_placeholder")),""),h._31(t,16).required?"":null,h._31(t,17).maxlength?h._31(t,17).maxlength:null,h._31(t,22).ngClassUntouched,h._31(t,22).ngClassTouched,h._31(t,22).ngClassPristine,h._31(t,22).ngClassDirty,h._31(t,22).ngClassValid,h._31(t,22).ngClassInvalid,h._31(t,22).ngClassPending),n(t,28,1,[h._34(1,"",h._30(t,28,0,h._31(t,38).transform("user.password_placeholder")),""),h._31(t,30).required?"":null,h._31(t,31).minlength?h._31(t,31).minlength:null,h._31(t,32).maxlength?h._31(t,32).maxlength:null,h._31(t,37).ngClassUntouched,h._31(t,37).ngClassTouched,h._31(t,37).ngClassPristine,h._31(t,37).ngClassDirty,h._31(t,37).ngClassValid,h._31(t,37).ngClassInvalid,h._31(t,37).ngClassPending]),n(t,43,1,[h._34(1,"",h._30(t,43,0,h._31(t,53).transform("user.confirm_password_placeholder")),""),h._31(t,45).required?"":null,h._31(t,46).minlength?h._31(t,46).minlength:null,h._31(t,47).maxlength?h._31(t,47).maxlength:null,h._31(t,52).ngClassUntouched,h._31(t,52).ngClassTouched,h._31(t,52).ngClassPristine,h._31(t,52).ngClassDirty,h._31(t,52).ngClassValid,h._31(t,52).ngClassInvalid,h._31(t,52).ngClassPending]),n(t,58,0,h._34(1,"",h._30(t,58,0,h._31(t,67).transform("user.name_placeholder")),""),h._31(t,60).required?"":null,h._31(t,61).maxlength?h._31(t,61).maxlength:null,h._31(t,66).ngClassUntouched,h._31(t,66).ngClassTouched,h._31(t,66).ngClassPristine,h._31(t,66).ngClassDirty,h._31(t,66).ngClassValid,h._31(t,66).ngClassInvalid,h._31(t,66).ngClassPending),n(t,73,0,h._30(t,73,0,h._31(t,74).transform("user.register")))})}function _(n){return h._24(0,[(n()(),h._25(0,null,null,1,"user-register",[],null,null,null,c,S)),h._26(24576,null,0,b.a,[m.j,P.a,y.a,O.a],null,null)],null,null)}var g=e("BQAS"),h=e("3j3K"),p=e("mTBq"),d=e("0/nx"),f=e("0/G1"),m=e("5oXY"),b=e("g54v"),v=e("NVOs"),C=e("2Je8"),P=e("Js6w"),y=e("HI7R"),O=e("ioEY");e.d(t,"a",function(){return w});var M=[g.a],S=h._23({encapsulation:0,styles:M,data:{}}),w=h._28("user-register",b.a,_,{},{},[])},BQAS:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}.user-register[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;width:22rem;min-height:17rem;margin:-8.5rem 0 0 -11rem;text-align:center;font-size:1.09091rem}.user-register[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18rem;height:2.4rem;line-height:2.4rem;margin-bottom:.5rem;font-size:1em}.user-register[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]:first-child   input[_ngcontent-%COMP%]{margin-top:1.5rem}.user-register[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]{position:relative;width:18rem;height:2.4rem;margin:0 auto;line-height:2.4rem}.user-register[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;font-size:1em;color:#fff;width:8rem;height:100%}.user-register[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.user-register[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{left:0;background-color:#ff4538}.user-register[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{right:0;background-color:#5bc0de}.user-register[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=submit][disabled][_ngcontent-%COMP%]{background-color:#acd4de}.user-register[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]{width:18rem;min-height:1.92rem;margin:.6rem auto 0;font-size:.8em}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{width:100%;height:100%}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]{width:17.6rem;height:100%;margin:2rem auto 0}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   img.portrait[_ngcontent-%COMP%]{display:block;float:left;width:6.8rem;height:6.8rem}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   img.portrait[_ngcontent-%COMP%]:hover{cursor:pointer}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{float:left;width:9.8rem;height:6.8rem;margin:0 0 0 .8em;line-height:1.5rem;font-size:1.2rem;text-align:left}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;height:100%}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:0 .3em;margin:0 .1em 0 0;text-align:center;background-color:#a4bbbd}.user-register[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}']},CcI2:function(n,t,e){"use strict";var i=e("3j3K"),o=e("wVUY"),r=e("Js6w"),l=e("HI7R"),s=e("/pnX"),u=e("/D+n");e.d(t,"a",function(){return a});var a=function(){function n(n,t,e,o,r){this.ctgService=n,this.apiRouteService=t,this.apiHttpService=e,this.messageService=o,this.spaceService=r,this.showSaveBtn=!1,this.ctg=this.ctgService.ctg,this.showSearchSpace=!1,this.searchInProgress=!1,this.spaceList=[],this.ctgChange=new i.R}return n.prototype.ngOnInit=function(){var n=this;this.subscriptionCtg=this.ctgService.ctg$.subscribe(function(t){return n.ctg=t})},n.prototype.ngAfterViewInit=function(){var n=document.querySelector(".ctg-title"),t=n.clientHeight,e=document.getElementById("maximize");e.style.width=t+"px",e.style.height=t+"px"},n.prototype.ngOnDestroy=function(){var n=this;setTimeout(function(){n.spaceList=null,n.subscriptionCtg.unsubscribe()})},n.prototype.contentChange=function(){this.showSaveBtn=!0},n.prototype.contentInitial=function(){this.showSaveBtn=!1},n.prototype.maximizeContent=function(n,t){"fixed"!=t.style.position?t.style.position="fixed":t.style.position="relative",n.style.width=.07*t.clientHeight+"px",n.style.height=.07*t.clientHeight+"px"},n.prototype.saveContent=function(n,t){var e=this,i=new FormData;i.append("space_id",this.ctg.space_id),i.append("ctg_id",this.ctg.ctg_id),i.append("title",n||this.ctg.ctg.title),i.append("content",t),this.apiHttpService.post(this.apiRouteService.saveCtgContent,i).subscribe(function(t){return e.messageService.handleResponse(t,function(){e.messageService.showFlashMessage("message.ctg_content_updated"),e.showSaveBtn=!1,n!=e.ctg.ctg.title&&(e.ctgChange.emit(),0==e.ctg.pid&&e.ctgService.setSpaceName(n))})})},n.prototype.searchUser=function(){},n.prototype.searchSpace=function(){this.showSearchSpace=!0},n.prototype.getSearchSpacesList=function(n){var t=this;n&&(this.searchInProgress||(this.searchInProgress=!0,this.spaceService.getSearchSpaceList(n).subscribe(function(n){t.spaceList=n,t.searchInProgress=!1})))},n.prototype.linkToSpace=function(n,t){var e=this,i=new FormData;i.append("origin_space",this.ctg.space_id),i.append("ctg_id",this.ctg.ctg_id),i.append("space_id",n),this.apiHttpService.post(this.apiRouteService.linkCtg,i).subscribe(function(n){return e.messageService.handleResponse(n,function(){e.messageService.showFlashMessage("message.link_ctg_to_space-"+e.ctg.ctg.title+"-"+t)})})},n.ctorParameters=function(){return[{type:o.a},{type:r.a},{type:l.a},{type:s.a},{type:u.a}]},n}()},Cd9f:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return n}()},DHfy:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}.message-box[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:4%;max-width:70%;padding:0 .7rem;text-align:left;background-color:#fff;overflow:hidden;white-space:nowrap}.message-box[_ngcontent-%COMP%]:before{content:"";height:100%}.message-box[_ngcontent-%COMP%]:before, .message-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.message-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis}']},DKVS:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return n}()},HI7R:function(n,t,e){"use strict";var i=e("Fzro"),o=e("ioEY"),r=e("Gvdl"),l=(e.n(r),e("+pb+")),s=(e.n(l),e("6Yye"));e.n(s);e.d(t,"a",function(){return u});var u=function(){function n(n,t){this.http=n,this.userService=t,this.http=n,this.userService=t}return n.prototype.createOptions=function(){var n=new i.l({Accept:"application/json",Authorization:"Bearer "+this.userService.getUserProperty("access_token")});return new i.j({headers:n})},n.prototype.get=function(n){return this.http.get(n,this.createOptions()).map(function(n){return n.json()}).catch(function(n){return r.Observable.throw(n.json()||"Server error")})},n.prototype.post=function(n,t){return this.http.post(n,t,this.createOptions()).map(function(n){return n.json()}).catch(function(n){return r.Observable.throw(n.json()||"Server error")})},n.ctorParameters=function(){return[{type:i.k},{type:o.a}]},n}()},Hbhl:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(n,t,e){this.user_id=n,this.name=t,this.email=e}return n}()},"Ho/V":function(n,t,e){"use strict";var i=e("3j3K"),o=e("zybO"),r=e("wVUY");e.d(t,"a",function(){return l});var l=function(){function n(n,t){var e=this;this.ckeditorService=n,this.ctgService=t,this.change=new i.R,this.editor="editor",this.content=this.ctgService.ctgContent,this.initialContent=!0,this.contentInitial=new i.R,this.onChange=function(){e.content=CKEDITOR.instances[e.editor].getData(),e.initialContent||e.change.emit(),e.initialContent=!1}}return n.prototype.ngOnInit=function(){var n=this;this.subscriptionCtgContent=this.ctgService.ctgContent$.subscribe(function(t){CKEDITOR.instances[n.editor]&&(CKEDITOR.instances[n.editor].setData(t),n.initialContent=!0,n.contentInitial.emit())}),this.subscriptionToggleEditor=this.ckeditorService.toggleEditor$.subscribe(function(t){t||CKEDITOR.instances[n.editor]&&CKEDITOR.instances[n.editor].focusManager.blur(!0)})},n.prototype.ngAfterViewInit=function(){CKEDITOR.disableAutoInline=!0,this.ckeditorInit()},n.prototype.ngOnDestroy=function(){var n=this;setTimeout(function(){CKEDITOR.instances[n.editor]&&(CKEDITOR.instances[n.editor].focusManager.blur(!0),CKEDITOR.instances[n.editor].destroy())})},n.prototype.ckeditorInit=function(){"undefined"!=typeof CKEDITOR&&(CKEDITOR.inline(this.host.nativeElement),CKEDITOR.instances[this.editor].setData(this.content),CKEDITOR.instances[this.editor].on("change",this.onChange))},n.prototype.showEditor=function(){CKEDITOR.instances[this.editor]&&CKEDITOR.instances[this.editor].focusManager.focus(!0)},n.ctorParameters=function(){return[{type:o.a},{type:r.a}]},n}()},Hy7h:function(n,t,e){"use strict";var i=e("5eC+"),o=e("g54v"),r=e("US63");e.d(t,"a",function(){return l});var l=(i.a,o.a,r.a,function(){function n(){}return n}())},Iksp:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return n}()},JEHW:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}.search-box[_ngcontent-%COMP%]{width:18rem;height:2.4rem;margin:1.2rem auto 0;position:relative}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;height:100%;line-height:2.4rem;font-size:1em}.search-box[_ngcontent-%COMP%]   .show-all[_ngcontent-%COMP%]{position:absolute;width:auto;height:2rem;top:.2rem;right:.2rem;padding:0 .4rem;line-height:2rem;text-align:center;font-size:.9rem;color:#fff;background-color:#5bc0de}.search-box[_ngcontent-%COMP%]   .show-all[_ngcontent-%COMP%]:hover{cursor:pointer}']},Js6w:function(n,t,e){"use strict";var i=e("kZql");e.d(t,"a",function(){return o});var o=function(){function n(){}return Object.defineProperty(n.prototype,"register",{get:function(){return i.a.api+"register"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"login",{get:function(){return i.a.api+"login"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"gitLogin",{get:function(){return i.a.api+"login/github"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"home",{get:function(){return i.a.api+"home"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"user",{get:function(){return i.a.api+"user"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createSpace",{get:function(){return i.a.api+"space/create"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"searchSpace",{get:function(){return i.a.api+"space/search"},enumerable:!0,configurable:!0}),n.prototype.space=function(n){return i.a.api+"space/"+n},n.prototype.ctgList=function(n,t){return t?i.a.api+"space/"+n+"/ctg/"+t:i.a.api+"space/"+n+"/ctg"},n.prototype.ctgMove=function(n,t,e){return i.a.api+"ctg/move/space/"+n+"/ctg/"+t+"/pid/"+e},n.prototype.ctgContent=function(n){return i.a.api+"ctg/content/"+n},n.prototype.ctgDelete=function(n,t){return i.a.api+"ctg/delete/space/"+n+"/ctg/"+t},Object.defineProperty(n.prototype,"saveCtgContent",{get:function(){return i.a.api+"ctg/saveCtgContent"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createCtg",{get:function(){return i.a.api+"ctg/createCtg"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"logout",{get:function(){return i.a.api+"user/logout"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"updateProfile",{get:function(){return i.a.api+"profile/update"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"searchUser",{get:function(){return i.a.api+"user/search"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"createFriend",{get:function(){return i.a.api+"friends/create"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"deleteFriend",{get:function(){return i.a.api+"friends/delete"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"friendsList",{get:function(){return i.a.api+"friends/lists"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"linkCtg",{get:function(){return i.a.api+"ctg/link"},enumerable:!0,configurable:!0}),n}()},NHqg:function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("SharedModule is already loaded. Import it in the AppModule only")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},NKA5:function(n,t,e){"use strict";function i(n){return s._24(0,[(n()(),s._25(0,null,null,3,"option",[],[[8,"selected",0]],[[null,"ngValueChange"]],function(n,t,e){var i=!0;if("ngValueChange"===t){i=!1!==(n.context.$implicit.key=e)&&i}return i},null,null)),s._26(73728,null,0,u.d,[s.L,s.K,[2,u.e]],{ngValue:[0,"ngValue"]},null),s._26(73728,null,0,u.f,[s.L,s.K,[8,null]],{ngValue:[0,"ngValue"]},null),(n()(),s._27(null,["\n                        ","\n                    "]))],function(n,t){n(t,1,0,t.context.$implicit.key),n(t,2,0,t.context.$implicit.key)},function(n,t){var e=t.component;n(t,0,0,t.context.$implicit.key==e.user.language),n(t,3,0,t.context.$implicit.fullName)})}function o(n){return s._24(0,[(n()(),s._25(0,null,null,2,"div",[["class","go-back home"]],null,[[null,"click"]],function(n,t,e){var i=!0;if("click"===t){i=!1!==s._31(n,1).onClick()&&i}return i},null,null)),s._26(8192,null,0,a.z,[a.j,a.v,[8,null],s.K,s.L],{routerLink:[0,"routerLink"]},null),(n()(),s._27(null,["\n"])),(n()(),s._27(null,["\n\n"])),(n()(),s._25(0,null,null,62,"div",[["class","inner-box profile-box"]],null,null,null,null,null)),(n()(),s._27(null,["\n    "])),(n()(),s._25(0,null,null,56,"form",[["action",""],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var i=!0,o=n.component;if("submit"===t){i=!1!==s._31(n,8).onSubmit(e)&&i}if("reset"===t){i=!1!==s._31(n,8).onReset()&&i}if("ngSubmit"===t){i=!1!==o.profileSubmit(s._31(n,8))&&i}return i},null,null)),s._26(8192,null,0,u.g,[],null,null),s._26(8192,[["profileForm",4]],0,u.h,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s._35(1024,null,u.i,null,[u.h]),s._26(8192,null,0,u.j,[u.i],null,null),(n()(),s._27(null,["\n        "])),(n()(),s._25(0,null,null,5,"div",[["class","portrait-box"]],null,null,null,null,null)),(n()(),s._27(null,["\n            "])),(n()(),s._25(0,null,null,0,"img",[["alt",""],["id","portrait"]],[[8,"src",4]],[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.chooseFile()&&i}return i},null,null)),(n()(),s._27(null,["\n            "])),(n()(),s._25(0,[["fileInput",1]],null,0,"input",[["id","file-input"],["name","portrait"],["type","file"]],null,[[null,"change"]],function(n,t,e){var i=!0,o=n.component;if("change"===t){i=!1!==o.readFile(s._31(n,16))&&i}return i},null,null)),(n()(),s._27(null,["\n        "])),(n()(),s._27(null,["\n\n        "])),(n()(),s._25(0,null,null,42,"div",[["class","detail-box"]],null,null,null,null,null)),(n()(),s._27(null,["\n            "])),(n()(),s._25(0,null,null,4,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),s._27(null,["\n                "])),(n()(),s._25(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),s._27(null,["",""])),(n()(),s._27(null,["\n            "])),(n()(),s._27(null,["\n            "])),(n()(),s._25(0,null,null,8,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),s._27(null,["\n                "])),(n()(),s._25(0,null,null,5,"input",[["name","name"],["placeholder",""],["type","text"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==s._31(n,30)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==s._31(n,30).onTouched()&&i}if("compositionstart"===t){i=!1!==s._31(n,30)._compositionStart()&&i}if("compositionend"===t){i=!1!==s._31(n,30)._compositionEnd(e.target.value)&&i}if("ngModelChange"===t){i=!1!==(o.user.name=e)&&i}return i},null,null)),s._26(8192,null,0,u.k,[s.K,s.L,[2,u.l]],null,null),s._35(512,null,u.m,function(n){return[n]},[u.k]),s._26(335872,null,0,u.n,[[2,u.i],[8,null],[8,null],[2,u.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s._35(1024,null,u.o,null,[u.n]),s._26(8192,null,0,u.p,[u.o],null,null),(n()(),s._27(null,["\n            "])),(n()(),s._27(null,["\n            "])),(n()(),s._25(0,null,null,12,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),s._27(null,["\n                "])),(n()(),s._25(0,null,null,9,"select",[["id","language"],["name","language"],["title","choose your language"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,t,e){var i=!0,o=n.component;if("change"===t){i=!1!==s._31(n,40).onChange(e.target.value)&&i}if("blur"===t){i=!1!==s._31(n,40).onTouched()&&i}if("ngModelChange"===t){i=!1!==(o.user.language=e)&&i}return i},null,null)),s._26(8192,null,0,u.e,[s.K,s.L],null,null),s._35(512,null,u.m,function(n){return[n]},[u.e]),s._26(335872,null,0,u.n,[[2,u.i],[8,null],[8,null],[2,u.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s._35(1024,null,u.o,null,[u.n]),s._26(8192,null,0,u.p,[u.o],null,null),(n()(),s._27(null,["\n                    "])),(n()(),s._32(8388608,null,null,1,null,i)),s._26(401408,null,0,_.n,[s.T,s._6,s.w],{ngForOf:[0,"ngForOf"]},null),(n()(),s._27(null,["\n                "])),(n()(),s._27(null,["\n            "])),(n()(),s._27(null,["\n            "])),(n()(),s._25(0,null,null,9,"div",[["class","form-panel"]],null,null,null,null,null)),(n()(),s._27(null,["\n            "])),(n()(),s._25(0,null,null,2,"span",[["class","logout-button"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.logOut()&&i}return i},null,null)),(n()(),s._27(null,["\n                ","\n            "])),s._29(0,g.a,[h.a]),(n()(),s._27(null,["\n                "])),(n()(),s._25(0,null,null,2,"button",[["class","submit-button"],["type","submit"]],null,null,null,null,null)),(n()(),s._27(null,["\n                    ","\n                "])),s._29(0,g.a,[h.a]),(n()(),s._27(null,["\n            "])),(n()(),s._27(null,["\n        "])),(n()(),s._27(null,["\n    "])),(n()(),s._27(null,["\n\n    "])),(n()(),s._25(0,null,null,1,"friends-search",[["class","friends-search"]],null,null,null,p.a,p.b)),s._26(24576,null,0,d.a,[f.a,m.a,b.a],null,null),(n()(),s._27(null,["\n"])),(n()(),s._27(null,["\n\n"])),(n()(),s._25(0,null,null,1,"friends",[],null,null,null,v.a,v.b)),s._26(122880,null,0,C.a,[m.a,f.a,b.a,P.a,y.a],null,null)],function(n,t){var e=t.component;n(t,1,0,"/home"),n(t,32,0,"name",e.user.name),n(t,42,0,"language",e.user.language),n(t,47,0,e.languages),n(t,69,0)},function(n,t){var e=t.component;n(t,6,0,s._31(t,10).ngClassUntouched,s._31(t,10).ngClassTouched,s._31(t,10).ngClassPristine,s._31(t,10).ngClassDirty,s._31(t,10).ngClassValid,s._31(t,10).ngClassInvalid,s._31(t,10).ngClassPending),n(t,14,0,s._34(1,"",e.user.portrait,"")),n(t,24,0,e.user.email),n(t,29,0,s._34(1,"",e.user.name,""),s._31(t,34).ngClassUntouched,s._31(t,34).ngClassTouched,s._31(t,34).ngClassPristine,s._31(t,34).ngClassDirty,s._31(t,34).ngClassValid,s._31(t,34).ngClassInvalid,s._31(t,34).ngClassPending),n(t,39,0,s._31(t,44).ngClassUntouched,s._31(t,44).ngClassTouched,s._31(t,44).ngClassPristine,s._31(t,44).ngClassDirty,s._31(t,44).ngClassValid,s._31(t,44).ngClassInvalid,s._31(t,44).ngClassPending),n(t,54,0,s._30(t,54,0,s._31(t,55).transform("user.logout"))),n(t,58,0,s._30(t,58,0,s._31(t,59).transform("action.save")))})}function r(n){return s._24(0,[(n()(),s._25(0,null,null,1,"profile",[],null,null,null,o,S)),s._26(122880,null,0,c.a,[a.j,O.a,f.a,m.a,y.a],null,null)],function(n,t){n(t,1,0)},null)}var l=e("YeeK"),s=e("3j3K"),u=e("NVOs"),a=e("5oXY"),c=e("US63"),_=e("2Je8"),g=e("0/nx"),h=e("0/G1"),p=e("5b5C"),d=e("ZlrU"),f=e("HI7R"),m=e("Js6w"),b=e("Z6Jw"),v=e("ozAJ"),C=e("WbGr"),P=e("4v+s"),y=e("/pnX"),O=e("ioEY");e.d(t,"a",function(){return w});var M=[l.a],S=s._23({encapsulation:0,styles:M,data:{}}),w=s._28("profile",c.a,r,{},{},[])},OEpn:function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("CtgModule is already loaded. Import it in the AppModule only")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},PW0z:function(n,t,e){"use strict";var i=e("3j3K"),o=e("2Je8"),r=e("5oXY"),l=e("Js6w"),s=e("HI7R"),u=e("/pnX"),a=e("wVUY"),c=e("4v+s");e.d(t,"a",function(){return _});var _=function(){function n(n,t,e,o,r,l,s,u){this.location=n,this.route=t,this.router=e,this.ctgService=o,this.cssService=r,this.apiRoutesService=l,this.apiHttpService=s,this.messageService=u,this.showContentBox=!1,this.showAddCtgInput=!1,this.ctg=this.ctgService.ctg,this.controlPosition=this.ctgService.controlPosition,this.ctgListChange=new i.R,this.showConfirm=!1,this.confirmContent=""}return n.prototype.ngOnInit=function(){var n=this;this.subscriptionCtg=this.ctgService.ctg$.subscribe(function(t){return n.ctg=t}),this.subscriptionControlPosition=this.ctgService.controlPosition$.subscribe(function(t){return n.controlPosition=t})},n.prototype.ngOnDestroy=function(){var n=this;setTimeout(function(){n.subscriptionCtg.unsubscribe(),n.subscriptionControlPosition.unsubscribe()})},n.prototype.setBtnPosition=function(n){var t=this.calculateControlPosition();if(void 0!==t){switch(n){case"view":t++;break;case"delete":t+=2}return{top:6.25*Math.sin(45*t*Math.PI/180)+"rem",left:6.25*Math.cos(45*t*Math.PI/180)+"rem"}}},n.prototype.calculateControlPosition=function(){var n=7*this.cssService.remPx;if(this.controlPosition.x<n&&this.controlPosition.y<this.cssService.bh-n)this.controlPosition.y<n?this.field=0:this.field=-1;else if(this.controlPosition.y<n)this.controlPosition.x>this.cssService.bw-n?this.field=2:this.field=1;else if(this.controlPosition.x>this.cssService.bw-n)this.controlPosition.y>this.cssService.bh-n?this.field=4:this.field=3;else{if(!(this.controlPosition.y>this.cssService.bh-n&&this.controlPosition.x>n))return;this.field=5}return this.field},n.prototype.clickViewBtn=function(){var n=this;this.apiHttpService.get(this.apiRoutesService.ctgContent(this.ctg.ctg_id)).subscribe(function(t){return n.messageService.handleResponse(t,function(){n.ctgService.setCtgContent(t.content?t.content:"")})}),this.showContentBox=!0,this.showAddCtgInput=!1,this.ctgContentComponent&&(this.ctgContentComponent.showSaveBtn=!1)},n.prototype.setEditorPosition=function(){if(this.controlPosition.x<this.cssService.bw/2-6.25*this.cssService.remPx)return{left:"62%"}},n.prototype.clickAddBtn=function(){this.showAddCtgInput=!0,this.showContentBox=!1},n.prototype.spaceInputPosition=function(){var n=2.5;switch(this.field){case-1:case 0:case 1:return{top:n/2+"rem",left:n/2+"rem",right:"none"};case 2:return{top:2*n+"rem",left:"none",right:"0"};default:return{top:n/2+"rem",left:" none",right:1.5*n+"rem"}}},n.prototype.addNewCtg=function(n){var t=this;if(n){var e=new FormData;e.append("title",n),e.append("ctg_id",this.ctg.ctg_id),e.append("space_id",this.ctg.space_id),this.apiHttpService.post(this.apiRoutesService.createCtg,e).subscribe(function(n){return t.messageService.handleResponse(n,function(){t.ctgListChange.emit()})})}},n.prototype.clickDeleteBtn=function(){this.showConfirm=!0,this.confirmContent="message.confirm_delete_ctg"},n.prototype.cancelDelete=function(){this.showConfirm=!1},n.prototype.confirmDelete=function(){var n=this;this.showConfirm=!1,this.apiHttpService.get(this.apiRoutesService.ctgDelete(this.ctg.space_id,this.ctg.ctg_id)).subscribe(function(t){return n.messageService.handleResponse(t,function(){n.messageService.showFlashMessage("message.delete_ctg-"+t.deleted),0==n.ctg.pid?n.router.navigate(["home"]):n.ctgListChange.emit()})})},n.prototype.emitCtgListChange=function(){this.ctgListChange.emit()},n.ctorParameters=function(){return[{type:o.e},{type:r.v},{type:r.j},{type:a.a},{type:c.a},{type:l.a},{type:s.a},{type:u.a}]},n}()},PbqW:function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("SpaceModule is already loaded. Import it in the AppModule only")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},SPyB:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i={user:{email_placeholder:"Enter your email please",email_required:"Enter your email please",email_validation:"Invalid email address",password_placeholder:"Enter your password please",password_required:"Enter a at least 6 character password please",confirm_password_placeholder:"Confirm your password please",confirm_password_required:"Enter a at least 6 character password confirm password please",confirm_password_invalid:"The two password entered is not the same",name_placeholder:"Enter your nickname please",name_required:"Enter your nickname please",login:"Login",register:"Register",login_failed:"Email and password does not match",web_link:"provide a link from web",choose_file:"choose a local image",logout:"logout",search_friends_placeholder:"Search a friend by name"},space:{show_all:"Show all",search_space:"Search by space name",fetch_url:"Create a space from a web page",new_space_placeholder:"New space name"},ctg:{title_placeholder:"Need a title here"},action:{save:"Save",home:"Home",yes:"yes",no:"no",link:"link",share:"share"},message:{ctg_content_updated:"Content has been updated",confirm_delete_ctg:"Please confirm to delete selected item and all its descendants",delete_ctg:"deleted %1% items",link_ctg_to_space:"link %1% to %2%",user_profile_updated:"use profile updated",ctg_already_exist:"The selected category already exists in targeted space",new_friend:"%1% is your friend now",delete_friend:"%1% is no longer you friend"}}},TPkH:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}.user-login[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:22rem;min-height:17rem;margin:-8.5rem 0 0 -11rem;text-align:center;font-size:1.09091rem}.user-login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18rem;height:2.4rem;line-height:2.4rem;margin-bottom:.5rem;font-size:1em}.user-login[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]:first-child   input[_ngcontent-%COMP%]{margin-top:1.5rem}.user-login[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]{position:relative;width:18rem;height:2.4rem;margin:0 auto;line-height:2.4rem}.user-login[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;font-size:1em;color:#fff;width:8rem;height:100%}.user-login[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.user-login[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{left:0;background-color:#ff4538}.user-login[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{right:0;background-color:#5bc0de}.user-login[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=submit][disabled][_ngcontent-%COMP%]{background-color:#acd4de}.user-login[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]{width:18rem;min-height:1.92rem;margin:.6rem auto 0;font-size:.8em}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{width:100%;height:100%}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]{width:17.6rem;height:100%;margin:2rem auto 0}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   img.portrait[_ngcontent-%COMP%]{display:block;float:left;width:6.8rem;height:6.8rem}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   img.portrait[_ngcontent-%COMP%]:hover{cursor:pointer}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{float:left;width:9.8rem;height:6.8rem;margin:0 0 0 .8em;line-height:1.5rem;font-size:1.2rem;text-align:left}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;height:100%}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding:0 .3em;margin:0 .1em 0 0;text-align:center;background-color:#a4bbbd}.user-login[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-info-content[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}']},U4iw:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}#canvas-frame[_ngcontent-%COMP%]{width:100%;height:100%}.space-box[_ngcontent-%COMP%]{position:absolute;top:8%;right:0;width:auto;height:2.6rem;background-color:#fff}.space-box[_ngcontent-%COMP%]:hover{cursor:pointer}.space-box[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{float:left;width:6rem;height:100%;padding:0 .5rem;font-size:1.3rem;line-height:2.6rem;overflow:hidden;text-overflow:ellipsis}.space-box[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]:hover{min-width:6rem;width:auto}']},US63:function(n,t,e){"use strict";var i=e("5oXY"),o=e("ioEY"),r=e("HI7R"),l=e("Js6w"),s=e("/pnX"),u=e("64fA");e.d(t,"a",function(){return a});var a=function(){function n(n,t,e,i,o){this.router=n,this.userService=t,this.apiHttpService=e,this.apiRoutesService=i,this.messageService=o,this.user=this.userService.getUserModel(),this.languages=u.a}return n.prototype.ngOnInit=function(){var n=this;this.subscription=this.userService.userModel$.subscribe(function(t){return n.user=t})},n.prototype.ngOnDestroy=function(){var n=this;setTimeout(function(){n.subscription.unsubscribe()})},n.prototype.chooseFile=function(){document.getElementById("file-input").click()},n.prototype.readFile=function(n){var t=new FileReader;t.onload=function(n){document.getElementById("portrait").setAttribute("src",n.target.result)},t.readAsDataURL(n.files[0])},n.prototype.profileSubmit=function(n){var t=this,e=new FormData;for(var i in n.value)n.value.hasOwnProperty(i)&&e.append(i,n.value[i]);var o=document.getElementById("file-input");o.files.length&&e.append("portrait",o.files[0]),this.apiHttpService.post(this.apiRoutesService.updateProfile,e).subscribe(function(n){return t.messageService.handleResponse(n,function(){t.userService.setUserProperties(n),t.messageService.showFlashMessage("message.user_profile_updated")})})},n.prototype.logOut=function(){this.userService.clearUserModel(),this.messageService.endWebSocket(),this.router.navigate(["/home"])},n.ctorParameters=function(){return[{type:i.j},{type:o.a},{type:r.a},{type:l.a},{type:s.a}]},n}()},VZbg:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return n}()},W7k4:function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("LangModule is already loaded. Import it in the AppModule only")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},WbGr:function(n,t,e){"use strict";var i=e("Js6w"),o=e("HI7R"),r=e("Z6Jw"),l=e("4v+s"),s=e("/pnX");e.d(t,"a",function(){return u});var u=function(){function n(n,t,e,i,o){var r=this;this.apiRoutesService=n,this.apiHttpService=t,this.friendsService=e,this.cssService=i,this.messageService=o,this.subscriptionFriends=e.friendsList$.subscribe(function(n){return r.friendsList=n}),this.subscriptionPositions=e.friendsPositions$.subscribe(function(n){return r.positions=n})}return n.prototype.ngOnInit=function(){var n=this;this.friendsService.friendsList&&this.friendsService.friendsPositions?(this.friendsList=this.friendsService.friendsList,this.positions=this.friendsService.friendsPositions):this.apiHttpService.get(this.apiRoutesService.friendsList).subscribe(function(t){return n.friendsService.setFriendsList(t)})},n.prototype.ngOnDestroy=function(){var n=this;setTimeout(function(){n.subscriptionFriends.unsubscribe(),n.subscriptionPositions.unsubscribe()})},n.prototype.trackByFriends=function(n,t){return t.user_id},n.prototype.friendsStyles=function(n,t){var e={};return e[this.cssService.getTransform]="translate3d("+n+"rem, "+t+"rem, 0rem)",e},n.prototype.addFriend=function(n){var t=this,e=new FormData;e.append("friend_id",n.user_id),this.apiHttpService.post(this.apiRoutesService.createFriend,e).subscribe(function(e){return t.messageService.handleResponse(e,function(){n.is_friend=1,t.messageService.showFlashMessage("message.new_friend-"+n.name)})})},n.prototype.deleteFriend=function(n){var t=this,e=new FormData;e.append("friend_id",n.user_id),this.apiHttpService.post(this.apiRoutesService.deleteFriend,e).subscribe(function(e){return t.messageService.handleResponse(e,function(){n.is_friend=0,t.messageService.showFlashMessage("message.delete_friend-"+n.name)})})},n.ctorParameters=function(){return[{type:i.a},{type:o.a},{type:r.a},{type:l.a},{type:s.a}]},n}()},YBOn:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i={user:{email_placeholder:"请输入您的邮箱",email_required:"请输入您的邮箱",email_validation:"邮箱格式不正确",password_placeholder:"请输入您的密码",password_required:"请输入最少为6位密码",confirm_password_placeholder:"请再次输入密码",confirm_password_required:"请输入最少为6位的确认密码",confirm_password_invalid:"两次输入的密码不一致",name_placeholder:"请输入您的昵称",name_required:"请输入您的昵称",login:"登录",register:"注册",login_failed:"登录验证失败",web_link:"提供一个图片链接",choose_file:"选择一个本地文件",logout:"退出",search_friends_placeholder:"通过名字查找朋友"},space:{show_all:"显示全部",search_space:"搜索",fetch_url:"通过网页创建空间",new_space_placeholder:"新空间名称"},ctg:{title_placeholder:"请填入名称"},action:{save:"保存",home:"首页",yes:"是",no:"否",link:"链接",share:"分享"},message:{ctg_content_updated:"内容更新成功",confirm_delete_ctg:"确定删除选中的分类和他的所有子分类么",delete_ctg:"删除了 %1% 个分类",link_ctg_to_space:"链接 %1% 到 %2%",user_profile_updated:"用户信息已更新",ctg_already_exist:"分类已经存在于空间",new_friend:"%1% 已经添加为您的好友",delete_friend:"您和 %1% 已经不是好友"}}},YWx4:function(n,t,e){"use strict";var i=e("ioEY"),o=e("Js6w"),r=e("HI7R"),l=e("/pnX");e.d(t,"a",function(){return s});var s=function(){function n(n,t,e,i){this.userService=n,this.apiRoutesService=t,this.apiHttpService=e,this.messageService=i}return n.prototype.ngOnInit=function(){var n=this,t=this.userService.getLocalAccessToken();!this.userService.getUserProperty("access_token")&&t&&(this.userService.setUserProperties({access_token:t}),this.apiHttpService.get(this.apiRoutesService.user).subscribe(function(t){if(500==t.status)return void n.userService.clearUserModel();n.userService.saveUserModel(t),n.messageService.setWebSocket()}))},n.ctorParameters=function(){return[{type:i.a},{type:o.a},{type:r.a},{type:l.a}]},n}()},YeeK:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}.profile-box[_ngcontent-%COMP%]{width:32rem;height:16rem;overflow:hidden;position:absolute;top:50%;left:50%;margin:-8rem 0 0 -16rem;background-color:#fff}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]{position:relative;float:left;width:16rem;height:16rem}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;display:block;position:absolute}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]{position:relative;float:left;width:16rem;height:16rem}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{width:95%;height:2.2rem;margin:0 0 0 5%;line-height:2.2rem}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]{width:100%;height:3rem;margin:1rem 0 0}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:5.6rem;height:2.4rem;margin:0 1.6rem;font-size:1.2rem;float:left;line-height:2.4rem;text-align:center;color:#fff}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{background-color:#ff4538}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=submit].submit-button[_ngcontent-%COMP%]{background-color:#2a88bd;margin-left:0}.profile-box[_ngcontent-%COMP%]   .friends-search[_ngcontent-%COMP%]{position:absolute;width:12.8rem;height:2.4rem;bottom:1.6rem;right:1.6rem}']},Z6Jw:function(n,t,e){"use strict";var i=e("EEr4"),o=(e.n(i),e("hgfE"));e.d(t,"a",function(){return r});var r=function(){function n(n){this.concentricService=n,this.friendsListSource=new i.Subject,this.friendsList$=this.friendsListSource.asObservable(),this.friendsPositionsSource=new i.Subject,this.friendsPositions$=this.friendsPositionsSource.asObservable()}return n.prototype.setFriendsList=function(n){this.friendsPositions=this.concentricService.setConcentricCircles(n.length,{a:42,b:26,k:6,g:8}),this.friendsPositionsSource.next(this.friendsPositions),this.friendsList=n,this.friendsListSource.next(this.friendsList)},n.ctorParameters=function(){return[{type:o.a}]},n}()},ZlrU:function(n,t,e){"use strict";var i=e("HI7R"),o=e("Js6w"),r=e("Z6Jw");e.d(t,"a",function(){return l});var l=function(){function n(n,t,e){this.apiHttpService=n,this.apiRoutesService=t,this.friendsService=e}return n.prototype.searchUser=function(n){var t=this;if(""!==n){var e=new FormData;e.append("name",n),this.apiHttpService.post(this.apiRoutesService.searchUser,e).subscribe(function(n){t.friendsService.setFriendsList(n)})}},n.ctorParameters=function(){return[{type:i.a},{type:o.a},{type:r.a}]},n}()},aevo:function(n,t,e){"use strict";function i(n){return u._24(0,[(n()(),u._25(0,null,null,2,"div",[["class","show-all"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.showAll()&&i}return i},null,null)),(n()(),u._27(null,["\n        ","\n    "])),u._29(0,a.a,[c.a])],null,function(n,t){n(t,1,0,u._30(t,1,0,u._31(t,2).transform("space.show_all")))})}function o(n){return u._24(0,[(n()(),u._25(0,null,null,4,"div",[["class","search-box"]],null,null,null,null,null)),(n()(),u._27(null,["\n    "])),(n()(),u._25(0,[["url",1]],null,1,"input",[["class","search-input"],["type","text"],["value",""]],[[8,"placeholder",0]],[[null,"keyup.enter"]],function(n,t,e){var i=!0,o=n.component;if("keyup.enter"===t){i=!1!==o.fetchUrl(u._31(n,2).value)&&i}return i},null,null)),u._29(0,a.a,[c.a]),(n()(),u._27(null,["\n"]))],null,function(n,t){n(t,2,0,u._34(1,"",u._30(t,2,0,u._31(t,3).transform("space.fetch_url")),""))})}function r(n){return u._24(0,[(n()(),u._25(0,null,null,12,"div",[["class","search-box"]],null,null,null,null,null)),(n()(),u._27(null,["\n    "])),(n()(),u._25(0,[["spaceSearch",1]],null,6,"input",[["class","search-input"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==u._31(n,3)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==u._31(n,3).onTouched()&&i}if("compositionstart"===t){i=!1!==u._31(n,3)._compositionStart()&&i}if("compositionend"===t){i=!1!==u._31(n,3)._compositionEnd(e.target.value)&&i}if("keyup.enter"===t){i=!1!==o.searchSpace()&&i}if("ngModelChange"===t){i=!1!==(o.spaceName=e)&&i}return i},null,null)),u._26(8192,null,0,g.k,[u.K,u.L,[2,g.l]],null,null),u._35(512,null,g.m,function(n){return[n]},[g.k]),u._26(335872,null,0,g.n,[[8,null],[8,null],[8,null],[2,g.m]],{model:[0,"model"]},{update:"ngModelChange"}),u._35(1024,null,g.o,null,[g.n]),u._26(8192,null,0,g.p,[g.o],null,null),u._29(0,a.a,[c.a]),(n()(),u._27(null,["\n    "])),(n()(),u._32(8388608,null,null,1,null,i)),u._26(8192,null,0,h.l,[u.T,u._6],{ngIf:[0,"ngIf"]},null),(n()(),u._27(null,["\n"])),(n()(),u._27(null,["\n"])),(n()(),u._32(8388608,null,null,1,null,o)),u._26(8192,null,0,h.l,[u.T,u._6],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,e.spaceName),n(t,11,0,e.searched),n(t,15,0,e.user.access_token)},function(n,t){n(t,2,0,u._34(1,"",u._30(t,2,0,u._31(t,8).transform("space.search_space")),""),u._31(t,7).ngClassUntouched,u._31(t,7).ngClassTouched,u._31(t,7).ngClassPristine,u._31(t,7).ngClassDirty,u._31(t,7).ngClassValid,u._31(t,7).ngClassInvalid,u._31(t,7).ngClassPending)})}function l(n){return u._24(0,[(n()(),u._25(0,null,null,1,"space-search",[],null,null,null,r,b)),u._26(122880,null,0,_.a,[p.a,d.a,f.a],null,null)],function(n,t){n(t,1,0)},null)}var s=e("JEHW"),u=e("3j3K"),a=e("0/nx"),c=e("0/G1"),_=e("3I0U"),g=e("NVOs"),h=e("2Je8"),p=e("/D+n"),d=e("ioEY"),f=e("/pnX");e.d(t,"b",function(){return b}),t.a=r;var m=[s.a],b=u._23({encapsulation:0,styles:m,data:{}});u._28("space-search",_.a,l,{},{},[])},b62O:function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("FriendsModule is already loaded. Import it in the AppModule only")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},beI0:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}#canvas-frame[_ngcontent-%COMP%]{width:100%;height:100%}.control-panel[_ngcontent-%COMP%]{position:relative;width:0;height:0;overflow:visible}.control-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;width:2.5rem;height:2.5rem;margin:-1.25rem 0 0 -1.25rem;border-radius:50%;background-color:hsla(0,0%,100%,.4)}.control-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{cursor:pointer}.control-panel[_ngcontent-%COMP%]   #plus[_ngcontent-%COMP%]{top:-6.25rem;left:0}.control-panel[_ngcontent-%COMP%]   #plus[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% 0 0 10%;width:80%;height:80%}.control-panel[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]{top:-4.41942rem;left:4.41942rem}.control-panel[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.control-panel[_ngcontent-%COMP%]   #delete[_ngcontent-%COMP%]{top:0;left:6.25rem}.control-panel[_ngcontent-%COMP%]   #delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% 0 0 10%;width:80%;height:80%}.text-input[_ngcontent-%COMP%]{position:absolute;width:12.5rem;height:2rem;line-height:2rem;margin:-1rem 0 0 2.5rem}.text-box[_ngcontent-%COMP%]{position:fixed;width:30%;height:70%;top:15%;left:12%}.confirm-box[_ngcontent-%COMP%]{position:fixed;width:30rem;height:10rem;top:50%;left:50%;margin:-5rem 0 0 -15rem;background-color:hsla(0,0%,100%,.6)}.confirm-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;margin:2rem auto 0;text-align:center}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;width:5rem;height:2rem;font-size:1.5rem;text-align:center;line-height:1.5rem;left:50%;bottom:1rem}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin:0 0 0 -8rem}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin:0 0 0 3rem}.editor-box[_ngcontent-%COMP%]{position:relative;display:block;width:100%;height:100%;top:0;left:0;background-color:#fff}.editor-box[_ngcontent-%COMP%]   .ctg-title[_ngcontent-%COMP%]{width:100%;height:7%;font-size:1.1rem;text-align:center}.editor-box[_ngcontent-%COMP%]   #maximize[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background-image:url(/assets/maximize.svg);background-size:100% 100%}.editor-box[_ngcontent-%COMP%]   #maximize[_ngcontent-%COMP%]:hover{cursor:pointer}.editor-box[_ngcontent-%COMP%]   .ctg-content-data-list[_ngcontent-%COMP%]{position:absolute;width:33.3%;height:auto;max-height:80%;bottom:13%;overflow-x:hidden;overflow-y:auto;background-color:#fff}.editor-box[_ngcontent-%COMP%]   .ctg-content-data-list[_ngcontent-%COMP%]   .tier[_ngcontent-%COMP%]{width:100%;height:1.5rem;text-indent:.2rem;line-height:1.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.editor-box[_ngcontent-%COMP%]   .ctg-content-data-list[_ngcontent-%COMP%]   .tier[_ngcontent-%COMP%]:hover{cursor:pointer}.editor-box[_ngcontent-%COMP%]   .ctg-content-input[_ngcontent-%COMP%]{position:absolute;width:33.3%;height:5%;bottom:8%}.editor-box[_ngcontent-%COMP%]   .ctg-content-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%}.editor-box[_ngcontent-%COMP%]   .search-space-position[_ngcontent-%COMP%]{left:50%;margin:0 0 0 -16.65%}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{width:100%;height:8%;position:relative}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]:after{display:table;content:"";clear:both}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:33.3%;height:100%;float:left;text-align:center;white-space:nowrap}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#aecaff;color:#fff}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before{content:"";display:inline-block;vertical-align:middle;height:100%}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;width:100%}.editor-box[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:100%}.ctg-content[_ngcontent-%COMP%]{width:96%;height:85%;overflow-y:auto;margin:0 auto;background-color:#f8f2ff}']},dROv:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return n}()},"eF+A":function(n,t,e){"use strict";var i=e("/D+n"),o=e("4v+s"),r=e("Js6w"),l=e("HI7R"),s=e("ioEY"),u=e("/pnX");e.d(t,"a",function(){return a});var a=function(){function n(n,t,e,i,o,r){this.spaceService=n,this.cssService=t,this.apiRoutes=e,this.apiHttp=i,this.userService=o,this.messageService=r,this.addInProgress=!1,this.newSpaceName=""}return n.prototype.ngOnInit=function(){var n=this;document.body.style.overflowY="auto",this.subscriptionSpaces=this.spaceService.spaces$.subscribe(function(t){return n.spaces=t}),this.subscriptionPositions=this.spaceService.spacePositions$.subscribe(function(t){return n.positions=t}),this.spaceService.spaces&&this.spaceService.spacePositions?(this.spaces=this.spaceService.spaces,this.positions=this.spaceService.spacePositions):this.spaceService.getHomeSpaceList().subscribe(function(t){n.spaceService.setSpaces(t),n.userService.getUserProperty("access_token")&&n.spaceService.addEmptySpace()})},n.prototype.ngAfterViewInit=function(){},n.prototype.ngOnDestroy=function(){var n=this;setTimeout(function(){document.body.style.overflowY="hidden",n.subscriptionSpaces.unsubscribe(),n.subscriptionPositions.unsubscribe()})},n.prototype.trackBySpaces=function(n,t){return t.space_id},n.prototype.spaceStyles=function(n,t){var e={};return e[this.cssService.getTransform]="translate3d("+n+"rem, "+t+"rem, 0rem)",e},n.prototype.addNewSpace=function(){var n=this;if(this.newSpaceName&&!this.addInProgress){this.addInProgress=!0;var t=new FormData;t.append("name",this.newSpaceName),this.apiHttp.post(this.apiRoutes.createSpace,t).subscribe(function(t){return n.messageService.handleResponse(t,function(){n.spaceService.addNewSpace(t),n.newSpaceName="",n.addInProgress=!1})})}},n.ctorParameters=function(){return[{type:i.a},{type:o.a},{type:r.a},{type:l.a},{type:s.a},{type:u.a}]},n}()},"eFS+":function(n,t,e){"use strict";var i=e("5oXY"),o=e("Js6w"),r=e("HI7R"),l=e("wVUY");e.d(t,"a",function(){return s});var s=function(){function n(n,t,e,i){this.route=n,this.apiRoutesService=t,this.apiHttpService=e,this.ctgService=i}return n.prototype.ngOnInit=function(){var n=this,t=this.route.snapshot.params.space_id;this.apiHttpService.get(this.apiRoutesService.space(t)).subscribe(function(t){return n.space=t}),this.subscriptionSpaceName=this.ctgService.spaceName$.subscribe(function(t){return n.space.name=t})},n.prototype.ngAfterViewInit=function(){},n.prototype.ngOnDestroy=function(){var n=this;setTimeout(function(){n.subscriptionSpaceName.unsubscribe()})},n.ctorParameters=function(){return[{type:i.v},{type:o.a},{type:r.a},{type:l.a}]},n}()},ei4h:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}#canvas-frame[_ngcontent-%COMP%]{width:100%;height:100%}.control-panel[_ngcontent-%COMP%]{position:relative;width:0;height:0;overflow:visible}.control-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;width:2.5rem;height:2.5rem;margin:-1.25rem 0 0 -1.25rem;border-radius:50%;background-color:hsla(0,0%,100%,.4)}.control-panel[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{cursor:pointer}.control-panel[_ngcontent-%COMP%]   #plus[_ngcontent-%COMP%]{top:-6.25rem;left:0}.control-panel[_ngcontent-%COMP%]   #plus[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% 0 0 10%;width:80%;height:80%}.control-panel[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]{top:-4.41942rem;left:4.41942rem}.control-panel[_ngcontent-%COMP%]   #view[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.control-panel[_ngcontent-%COMP%]   #delete[_ngcontent-%COMP%]{top:0;left:6.25rem}.control-panel[_ngcontent-%COMP%]   #delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% 0 0 10%;width:80%;height:80%}.text-input[_ngcontent-%COMP%]{position:absolute;width:12.5rem;height:2rem;line-height:2rem;margin:-1rem 0 0 2.5rem}.text-box[_ngcontent-%COMP%]{position:fixed;width:30%;height:70%;top:15%;left:12%}.confirm-box[_ngcontent-%COMP%]{position:fixed;width:30rem;height:10rem;top:50%;left:50%;margin:-5rem 0 0 -15rem;background-color:hsla(0,0%,100%,.6)}.confirm-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;margin:2rem auto 0;text-align:center}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;width:5rem;height:2rem;font-size:1.5rem;text-align:center;line-height:1.5rem;left:50%;bottom:1rem}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin:0 0 0 -8rem}.confirm-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin:0 0 0 3rem}']},g54v:function(n,t,e){"use strict";var i=e("5oXY"),o=e("Js6w"),r=e("HI7R"),l=e("ioEY");e.d(t,"a",function(){return s});var s=function(){function n(n,t,e,i){this.router=n,this.apiRoutesService=t,this.apiHttpService=e,this.userService=i,this.registerModel={email:"",password:"",confirm_password:"",name:""},this.invalidEmail=!1,this.invalidConfirmPassword=!1,this.serverError=!1,this.serverErrorMessage=""}return n.prototype.checkEmail=function(){this.invalidEmail=!this.userService.emailPattern.test(this.registerModel.email)},n.prototype.confirmPassword=function(){this.invalidConfirmPassword=this.registerModel.password!==this.registerModel.confirm_password},n.prototype.onSubmit=function(){var n=this,t=new FormData;t.append("email",this.registerModel.email),t.append("password",this.registerModel.password),t.append("password_confirmation",this.registerModel.confirm_password),t.append("name",this.registerModel.name),this.apiHttpService.post(this.apiRoutesService.register,t).subscribe(function(t){500==t.status?(n.serverError=!0,t.error&&(t.error instanceof Array?n.serverErrorMessage=t.error[0]:t.error instanceof String&&(n.serverErrorMessage=t.error))):(n.serverError=!0,n.userService.setUserProperties({access_token:t.access_token,refresh_token:t.refresh_token}),n.userService.getUserProperty("access_token")&&(n.userService.saveLocalAccessToken(n.userService.getUserProperty("access_token")),n.apiHttpService.get(n.apiRoutesService.user).subscribe(function(t){n.userService.saveUserModel(t),n.router.navigate(["/home"])})))})},n.ctorParameters=function(){return[{type:i.j},{type:o.a},{type:r.a},{type:l.a}]},n}()},hgfE:function(n,t,e){"use strict";var i=e("4v+s");e.d(t,"a",function(){return o});var o=function(){function n(n){this.cssService=n,this.a=25,this.b=18,this.k=5,this.g=3,this.i=0,this.n=0}return Object.defineProperty(n.prototype,"innerWidth",{get:function(){return this.a},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setInnerWidth",{set:function(n){this.a=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerHeight",{get:function(){return this.b},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setInnerHeight",{set:function(n){this.b=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemWidth",{get:function(){return this.k},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemHeight",{get:function(){return this.g},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalNum",{get:function(){return Math.round(this.innerWidth/this.itemWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalNum",{get:function(){return Math.round(this.innerHeight/this.itemHeight)},enumerable:!0,configurable:!0}),n.prototype.setConcentricCircles=function(n,t){this.a=t.a,this.b=t.b,this.k=t.k,this.g=t.g,this.i=0,this.n=0;for(var e,i,o,r,l=this.itemWidth,s=this.itemHeight,u=[];this.n<n;){e=this.horizontalNum,i=this.verticalNum;var a=[e-1,e+i-1,2*e+i-1,2*e+2*i-1];if(this.i<=a[0])o=(this.i-e/2+1)*l,r=this.innerHeight/-2;else if(this.i>a[0]&&this.i<=a[1])o=this.innerWidth/2,r=(this.i-a[0]-i/2)*s;else if(this.i>a[1]&&this.i<=a[2])o=(e/2-(this.i-a[1]))*l,r=this.innerHeight/2;else{if(!(this.i>a[2]&&this.i<=a[3])){this.i=0,this.setInnerWidth=this.innerWidth+2*l,this.setInnerHeight=this.innerHeight+2*s;continue}o=this.innerWidth/-2,r=(i/2-(this.i-a[2]))*s}Math.abs(o)*this.cssService.remPx*2>this.cssService.bw||r<0&&Math.abs(r)*this.cssService.remPx*2>this.cssService.bh?this.i++:(u[this.n]={x:o,y:r},this.i++,this.n++)}return u},n.ctorParameters=function(){return[{type:i.a}]},n}()},ioEY:function(n,t,e){"use strict";var i=e("Hbhl"),o=e("EEr4"),r=(e.n(o),e("sWvZ"));e.d(t,"b",function(){return l}),e.d(t,"a",function(){return s});var l=function(){function n(){this.userName="Anonymous"}return n}(),s=function(){function n(n){this.storageService=n,this.userModel=new i.a,this.userModelSource=new o.Subject,this.userModel$=this.userModelSource.asObservable(),this.emailPattern=/@([a-zA-Z0-9\-])+\./}return n.prototype.sealUserModel=function(){Object.seal(this.userModel)},n.prototype.getUserModel=function(){return this.userModel},n.prototype.clearUserModel=function(){this.userModel=new i.a,this.storageService.setItem("access_token",null),this.userModelSource.next(this.userModel)},n.prototype.getUserProperty=function(n){return this.userModel[n]},n.prototype.setUserProperties=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];Object.assign.apply(Object,[this.userModel].concat(n)),this.userModelSource.next(this.userModel)},n.prototype.saveUserModel=function(n){var t=n.profile;delete n.profile,this.setUserProperties(n,t),this.userModel.portrait&&(this.userModel.thumb=this.userModel.portrait.replace(/(\.\w+)$/,function(n,t){return"-t"+t})),this.sealUserModel(),this.userModelSource.next(this.userModel)},n.prototype.saveLocalAccessToken=function(n){this.storageService.setItem("access_token",n)},n.prototype.getLocalAccessToken=function(){return this.storageService.getItem("access_token")},n.ctorParameters=function(){return[{type:r.a}]},n}()},jJPQ:function(n,t,e){"use strict";function i(n){return g._24(0,[(n()(),g._25(0,null,null,2,"div",[["class","tier"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.linkToSpace(n.context.$implicit.space_id,n.context.$implicit.name)&&i}return i},null,null)),g._29(0,h.a,[p.a]),(n()(),g._27(null,["","\n        "]))],null,function(n,t){var e=t.component;n(t,0,0,g._34(1,"",g._30(t,0,0,g._31(t,1).transform("message.link_ctg_to_space-"+e.ctg.ctg.title+"-"+t.context.$implicit.name)),"")),n(t,2,0,t.context.$implicit.name)})}function o(n){return g._24(0,[(n()(),g._25(0,null,null,4,"div",[["class","ctg-content-data-list search-space-position"]],null,null,null,null,null)),(n()(),g._27(null,["\n        "])),(n()(),g._32(8388608,null,null,1,null,i)),g._26(401408,null,0,d.n,[g.T,g._6,g.w],{ngForOf:[0,"ngForOf"]},null),(n()(),g._27(null,["\n    "]))],function(n,t){n(t,3,0,t.component.spaceList)},null)}function r(n){return g._24(0,[(n()(),g._25(0,null,null,3,"div",[["class","ctg-content-input search-space-position"]],null,null,null,null,null)),(n()(),g._27(null,["\n        "])),(n()(),g._25(0,[["spaceName",1]],null,0,"input",[["placeholder",""],["type","text"]],null,[[null,"keyup.enter"]],function(n,t,e){var i=!0,o=n.component;if("keyup.enter"===t){i=!1!==o.getSearchSpacesList(g._31(n,2).value)&&i}return i},null,null)),(n()(),g._27(null,["\n    "]))],null,null)}function l(n){return g._24(0,[(n()(),g._25(0,null,null,5,"div",[["class","share-button"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.searchUser()&&i}return i},null,null)),(n()(),g._27(null,["\n            "])),(n()(),g._25(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),g._27(null,["",""])),g._29(0,h.a,[p.a]),(n()(),g._27(null,["\n        "]))],null,function(n,t){n(t,3,0,g._30(t,3,0,g._31(t,4).transform("action.share")))})}function s(n){return g._24(0,[(n()(),g._25(0,null,null,5,"div",[["class","copy-button"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.searchSpace()&&i}return i},null,null)),(n()(),g._27(null,["\n            "])),(n()(),g._25(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),g._27(null,["",""])),g._29(0,h.a,[p.a]),(n()(),g._27(null,["\n        "]))],null,function(n,t){n(t,3,0,g._30(t,3,0,g._31(t,4).transform("action.link")))})}function u(n){return g._24(0,[(n()(),g._25(0,null,null,5,"div",[["class","save-button"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.saveContent(g._31(n.parent,2).value,g._31(n.parent,8).content)&&i}return i},null,null)),(n()(),g._27(null,["\n            "])),(n()(),g._25(0,null,null,2,"span",[],null,null,null,null,null)),(n()(),g._27(null,["",""])),g._29(0,h.a,[p.a]),(n()(),g._27(null,["\n        "]))],null,function(n,t){n(t,3,0,g._30(t,3,0,g._31(t,4).transform("action.save")))})}function a(n){return g._24(0,[(n()(),g._25(0,[["editorBox",1]],null,27,"div",[["class","editor-box"]],null,null,null,null,null)),(n()(),g._27(null,["\n    "])),(n()(),g._25(0,[["title",1]],null,1,"input",[["class","ctg-title"]],[[8,"placeholder",0],[8,"value",0]],[[null,"input"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==o.contentChange()&&i}return i},null,null)),g._29(0,h.a,[p.a]),(n()(),g._27(null,["\n    "])),(n()(),g._25(0,[["sizeButton",1]],null,0,"div",[["id","maximize"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.maximizeContent(g._31(n,5),g._31(n,0))&&i}return i},null,null)),(n()(),g._27(null,["\n    "])),(n()(),g._25(0,null,null,1,"ckeditor",[],null,[[null,"change"],[null,"contentInitial"]],function(n,t,e){var i=!0,o=n.component;if("change"===t){i=!1!==o.contentChange()&&i}if("contentInitial"===t){i=!1!==o.contentInitial()&&i}return i},m.a,m.b)),g._26(2220032,[["ckeditor",4]],0,b.a,[v.a,C.a],null,{change:"change",contentInitial:"contentInitial"}),(n()(),g._27(null,["\n    "])),(n()(),g._32(8388608,null,null,1,null,o)),g._26(8192,null,0,d.l,[g.T,g._6],{ngIf:[0,"ngIf"]},null),(n()(),g._27(null,["\n    "])),(n()(),g._32(8388608,null,null,1,null,r)),g._26(8192,null,0,d.l,[g.T,g._6],{ngIf:[0,"ngIf"]},null),(n()(),g._27(null,["\n    "])),(n()(),g._25(0,null,null,10,"div",[["class","button-label"]],null,null,null,null,null)),(n()(),g._27(null,["\n        "])),(n()(),g._32(8388608,null,null,1,null,l)),g._26(8192,null,0,d.l,[g.T,g._6],{ngIf:[0,"ngIf"]},null),(n()(),g._27(null,["\n        "])),(n()(),g._32(8388608,null,null,1,null,s)),g._26(8192,null,0,d.l,[g.T,g._6],{ngIf:[0,"ngIf"]},null),(n()(),g._27(null,["\n        "])),(n()(),g._32(8388608,null,null,1,null,u)),g._26(8192,null,0,d.l,[g.T,g._6],{ngIf:[0,"ngIf"]},null),(n()(),g._27(null,["\n    "])),(n()(),g._27(null,["\n"]))],function(n,t){var e=t.component;n(t,8,0),n(t,11,0,e.showSearchSpace),n(t,14,0,e.showSearchSpace),n(t,19,0,!e.showSaveBtn),n(t,22,0,!e.showSaveBtn),n(t,25,0,e.showSaveBtn)},function(n,t){var e=t.component;n(t,2,0,g._34(1,"",g._30(t,2,0,g._31(t,3).transform("ctg.title_placeholder")),""),g._34(1,"",e.ctg.ctg.title,""))})}function c(n){return g._24(0,[(n()(),g._25(0,null,null,1,"ctg-content",[],null,null,null,a,w)),g._26(2220032,null,0,f.a,[C.a,P.a,y.a,O.a,M.a],null,null)],function(n,t){n(t,1,0)},null)}var _=e("9xXt"),g=e("3j3K"),h=e("0/nx"),p=e("0/G1"),d=e("2Je8"),f=e("CcI2"),m=e("wUuO"),b=e("Ho/V"),v=e("zybO"),C=e("wVUY"),P=e("Js6w"),y=e("HI7R"),O=e("/pnX"),M=e("/D+n");e.d(t,"b",function(){return w}),t.a=a;var S=[_.a],w=g._23({encapsulation:0,styles:S,data:{}});g._28("ctg-content",f.a,c,{},{ctgChange:"ctgChange"},[])},kZql:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i={production:!0,ws:"ws://127.0.0.1:9501",api:"http://api.mindpalaces.com/api/"}},kiuB:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}#canvas-frame[_ngcontent-%COMP%]{width:100%;height:100%}']},kke6:function(n,t,e){"use strict";var i=e("3j3K"),o=e("Iksp"),r=e("2Je8"),l=e("5oXY"),s=e("Qbdm"),u=e("Fzro"),a=e("NVOs"),c=e("Cd9f"),_=e("W7k4"),g=e("Hy7h"),h=e("NHqg"),p=e("u87A"),d=e("2Y0G"),f=e("PbqW"),m=e("DKVS"),b=e("ypIo"),v=e("dROv"),C=e("OEpn"),P=e("1SSX"),y=e("zthj"),O=e("b62O"),M=e("sWvZ"),S=e("ioEY"),w=e("0/G1"),x=e("Js6w"),k=e("HI7R"),I=e("4v+s"),E=e("/pnX"),R=e("414k"),L=e("hgfE"),T=e("/D+n"),D=e("zybO"),A=e("wVUY"),j=e("Z6Jw"),H=e("xVwr"),N=e("A7RG"),U=e("NKA5"),z=e("tfGv"),F=e("1A80"),G=e("5eC+"),K=e("g54v"),q=e("US63"),B=e("pz+S");e.d(t,"a",function(){return J});var V=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Y=function(n){function t(t){return n.call(this,t,[H.a,N.a,U.a,z.a,F.a],[F.a])||this}return V(t,n),Object.defineProperty(t.prototype,"_LOCALE_ID_39",{get:function(){return null==this.__LOCALE_ID_39&&(this.__LOCALE_ID_39=i.b(this.parent.get(i.c,null))),this.__LOCALE_ID_39},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_NgLocalization_40",{get:function(){return null==this.__NgLocalization_40&&(this.__NgLocalization_40=new r.a(this._LOCALE_ID_39)),this.__NgLocalization_40},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_APP_ID_41",{get:function(){return null==this.__APP_ID_41&&(this.__APP_ID_41=i.d()),this.__APP_ID_41},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_IterableDiffers_42",{get:function(){return null==this.__IterableDiffers_42&&(this.__IterableDiffers_42=i.e()),this.__IterableDiffers_42},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_KeyValueDiffers_43",{get:function(){return null==this.__KeyValueDiffers_43&&(this.__KeyValueDiffers_43=i.f()),this.__KeyValueDiffers_43},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_DomSanitizer_44",{get:function(){return null==this.__DomSanitizer_44&&(this.__DomSanitizer_44=new s.b(this.parent.get(s.c))),this.__DomSanitizer_44},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Sanitizer_45",{get:function(){return null==this.__Sanitizer_45&&(this.__Sanitizer_45=this._DomSanitizer_44),this.__Sanitizer_45},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_HAMMER_GESTURE_CONFIG_46",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_46&&(this.__HAMMER_GESTURE_CONFIG_46=new s.d),this.__HAMMER_GESTURE_CONFIG_46},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_EVENT_MANAGER_PLUGINS_47",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_47&&(this.__EVENT_MANAGER_PLUGINS_47=[new s.e(this.parent.get(s.c)),new s.f(this.parent.get(s.c)),new s.g(this.parent.get(s.c),this._HAMMER_GESTURE_CONFIG_46)]),this.__EVENT_MANAGER_PLUGINS_47},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_EventManager_48",{get:function(){return null==this.__EventManager_48&&(this.__EventManager_48=new s.h(this._EVENT_MANAGER_PLUGINS_47,this.parent.get(i.g))),this.__EventManager_48},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ɵDomSharedStylesHost_49",{get:function(){return null==this.__ɵDomSharedStylesHost_49&&(this.__ɵDomSharedStylesHost_49=new s.i(this.parent.get(s.c))),this.__ɵDomSharedStylesHost_49},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ɵDomRendererFactory2_50",{get:function(){return null==this.__ɵDomRendererFactory2_50&&(this.__ɵDomRendererFactory2_50=new s.j(this._EventManager_48,this._ɵDomSharedStylesHost_49)),this.__ɵDomRendererFactory2_50},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_RendererFactory2_51",{get:function(){return null==this.__RendererFactory2_51&&(this.__RendererFactory2_51=this._ɵDomRendererFactory2_50),this.__RendererFactory2_51},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ɵSharedStylesHost_52",{get:function(){return null==this.__ɵSharedStylesHost_52&&(this.__ɵSharedStylesHost_52=this._ɵDomSharedStylesHost_49),this.__ɵSharedStylesHost_52},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Testability_53",{get:function(){return null==this.__Testability_53&&(this.__Testability_53=new i.h(this.parent.get(i.g))),this.__Testability_53},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Meta_54",{get:function(){return null==this.__Meta_54&&(this.__Meta_54=new s.k(this.parent.get(s.c))),this.__Meta_54},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Title_55",{get:function(){return null==this.__Title_55&&(this.__Title_55=new s.l(this.parent.get(s.c))),this.__Title_55},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_BrowserXhr_56",{get:function(){return null==this.__BrowserXhr_56&&(this.__BrowserXhr_56=new u.a),this.__BrowserXhr_56},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ResponseOptions_57",{get:function(){return null==this.__ResponseOptions_57&&(this.__ResponseOptions_57=new u.b),this.__ResponseOptions_57},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_XSRFStrategy_58",{get:function(){return null==this.__XSRFStrategy_58&&(this.__XSRFStrategy_58=u.c()),this.__XSRFStrategy_58},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_XHRBackend_59",{get:function(){return null==this.__XHRBackend_59&&(this.__XHRBackend_59=new u.d(this._BrowserXhr_56,this._ResponseOptions_57,this._XSRFStrategy_58)),this.__XHRBackend_59},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_RequestOptions_60",{get:function(){return null==this.__RequestOptions_60&&(this.__RequestOptions_60=new u.e),this.__RequestOptions_60},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Http_61",{get:function(){return null==this.__Http_61&&(this.__Http_61=u.f(this._XHRBackend_59,this._RequestOptions_60)),this.__Http_61},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ɵi_62",{get:function(){return null==this.__ɵi_62&&(this.__ɵi_62=new a.a),this.__ɵi_62},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ActivatedRoute_63",{get:function(){return null==this.__ActivatedRoute_63&&(this.__ActivatedRoute_63=l.a(this._Router_22)),this.__ActivatedRoute_63},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_NoPreloading_64",{get:function(){return null==this.__NoPreloading_64&&(this.__NoPreloading_64=new l.b),this.__NoPreloading_64},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_PreloadingStrategy_65",{get:function(){return null==this.__PreloadingStrategy_65&&(this.__PreloadingStrategy_65=this._NoPreloading_64),this.__PreloadingStrategy_65},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_RouterPreloader_66",{get:function(){return null==this.__RouterPreloader_66&&(this.__RouterPreloader_66=new l.c(this._Router_22,this._NgModuleFactoryLoader_20,this._Compiler_19,this,this._PreloadingStrategy_65)),this.__RouterPreloader_66},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_PreloadAllModules_67",{get:function(){return null==this.__PreloadAllModules_67&&(this.__PreloadAllModules_67=new l.d),this.__PreloadAllModules_67},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ROUTER_INITIALIZER_68",{get:function(){return null==this.__ROUTER_INITIALIZER_68&&(this.__ROUTER_INITIALIZER_68=l.e(this._ɵg_3)),this.__ROUTER_INITIALIZER_68},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_APP_BOOTSTRAP_LISTENER_69",{get:function(){return null==this.__APP_BOOTSTRAP_LISTENER_69&&(this.__APP_BOOTSTRAP_LISTENER_69=[this._ROUTER_INITIALIZER_68]),this.__APP_BOOTSTRAP_LISTENER_69},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_StorageService_70",{get:function(){return null==this.__StorageService_70&&(this.__StorageService_70=new M.a),this.__StorageService_70},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_UserService_71",{get:function(){return null==this.__UserService_71&&(this.__UserService_71=new S.a(this._StorageService_70)),this.__UserService_71},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_LangService_72",{get:function(){return null==this.__LangService_72&&(this.__LangService_72=new w.a(this._UserService_71)),this.__LangService_72},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ApiRoutesService_73",{get:function(){return null==this.__ApiRoutesService_73&&(this.__ApiRoutesService_73=new x.a),this.__ApiRoutesService_73},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ApiHttpService_74",{get:function(){return null==this.__ApiHttpService_74&&(this.__ApiHttpService_74=new k.a(this._Http_61,this._UserService_71)),this.__ApiHttpService_74},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_CssService_75",{get:function(){return null==this.__CssService_75&&(this.__CssService_75=new I.a),this.__CssService_75},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_MessageService_76",{get:function(){return null==this.__MessageService_76&&(this.__MessageService_76=new E.a(this._UserService_71)),this.__MessageService_76},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_SpiralService_77",{get:function(){return null==this.__SpiralService_77&&(this.__SpiralService_77=new R.a(this._CssService_75)),this.__SpiralService_77},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ConcentricService_78",{get:function(){return null==this.__ConcentricService_78&&(this.__ConcentricService_78=new L.a(this._CssService_75)),this.__ConcentricService_78},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_SpaceService_79",{get:function(){return null==this.__SpaceService_79&&(this.__SpaceService_79=new T.a(this._ApiRoutesService_73,this._ApiHttpService_74,this._ConcentricService_78)),this.__SpaceService_79},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_CKEditorService_80",{get:function(){return null==this.__CKEditorService_80&&(this.__CKEditorService_80=new D.a),this.__CKEditorService_80},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_CtgService_81",{get:function(){return null==this.__CtgService_81&&(this.__CtgService_81=new A.a(this._ApiHttpService_74,this._ApiRoutesService_73)),this.__CtgService_81},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_FriendsService_82",{get:function(){return null==this.__FriendsService_82&&(this.__FriendsService_82=new j.a(this._ConcentricService_78)),this.__FriendsService_82},enumerable:!0,configurable:!0}),t.prototype.createInternal=function(){return this._CommonModule_0=new r.b,this._ErrorHandler_1=s.m(),this._NgProbeToken_2=[l.f()],this._ɵg_3=new l.g(this),this._APP_INITIALIZER_4=[i.i,s.n(this.parent.get(s.o,null),this._NgProbeToken_2),l.h(this._ɵg_3)],this._ApplicationInitStatus_5=new i.j(this._APP_INITIALIZER_4),this._ɵf_6=new i.k(this.parent.get(i.g),this.parent.get(i.l),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_5),this._ApplicationRef_7=this._ɵf_6,this._ApplicationModule_8=new i.m(this._ApplicationRef_7),this._BrowserModule_9=new s.p(this.parent.get(s.p,null)),this._HttpModule_10=new u.g,this._ɵba_11=new a.b,this._FormsModule_12=new a.c,this._ɵa_13=l.i(this.parent.get(l.j,null)),this._UrlSerializer_14=new l.k,this._RouterOutletMap_15=new l.l,this._ROUTER_CONFIGURATION_16={},this._LocationStrategy_17=l.m(this.parent.get(r.c),this.parent.get(r.d,null),this._ROUTER_CONFIGURATION_16),this._Location_18=new r.e(this._LocationStrategy_17),this._Compiler_19=new i.n,this._NgModuleFactoryLoader_20=new i.o(this._Compiler_19,this.parent.get(i.p,null)),this._ROUTES_21=[[],[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:G.a},{path:"register",component:K.a},{path:"profile/:user_id",component:q.a}],[{path:"space/:space_id",component:B.a},{path:"space/:space_id/ctg/:ctg_id",component:B.a}],[{path:"profile/:user_id",component:q.a}]],this._Router_22=l.n(this._ApplicationRef_7,this._UrlSerializer_14,this._RouterOutletMap_15,this._Location_18,this,this._NgModuleFactoryLoader_20,this._Compiler_19,this._ROUTES_21,this._ROUTER_CONFIGURATION_16,this.parent.get(l.o,null),this.parent.get(l.p,null)),this._RouterModule_23=new l.q(this._ɵa_13,this._Router_22),this._AppRoutingModule_24=new c.a,this._LangModule_25=new _.a(this.parent.get(_.a,null)),this._CoreRoutingModule_26=new g.a,this._SharedModule_27=new h.a(this.parent.get(h.a,null)),this._CoreModule_28=new p.a(this.parent.get(p.a,null)),this._SpiralModule_29=new d.a(this.parent.get(d.a,null)),this._SpaceModule_30=new f.a(this.parent.get(f.a,null)),this._CtgRoutingModule_31=new m.a,this._ThreeModule_32=new b.a(this.parent.get(b.a,null)),this._CKEditorModule_33=new v.a,this._CtgModule_34=new C.a(this.parent.get(C.a,null)),this._ProfileRoutingModule_35=new P.a,this._ProfileModule_36=new y.a(this.parent.get(y.a,null)),this._FriendsModule_37=new O.a(this.parent.get(O.a,null)),this._AppModule_38=new o.a,this._AppModule_38},t.prototype.getInternal=function(n,t){return n===r.b?this._CommonModule_0:n===i.q?this._ErrorHandler_1:n===i.r?this._NgProbeToken_2:n===l.g?this._ɵg_3:n===i.s?this._APP_INITIALIZER_4:n===i.j?this._ApplicationInitStatus_5:n===i.k?this._ɵf_6:n===i.t?this._ApplicationRef_7:n===i.m?this._ApplicationModule_8:n===s.p?this._BrowserModule_9:n===u.g?this._HttpModule_10:n===a.b?this._ɵba_11:n===a.c?this._FormsModule_12:n===l.r?this._ɵa_13:n===l.s?this._UrlSerializer_14:n===l.l?this._RouterOutletMap_15:n===l.t?this._ROUTER_CONFIGURATION_16:n===r.f?this._LocationStrategy_17:n===r.e?this._Location_18:n===i.n?this._Compiler_19:n===i.u?this._NgModuleFactoryLoader_20:n===l.u?this._ROUTES_21:n===l.j?this._Router_22:n===l.q?this._RouterModule_23:n===c.a?this._AppRoutingModule_24:n===_.a?this._LangModule_25:n===g.a?this._CoreRoutingModule_26:n===h.a?this._SharedModule_27:n===p.a?this._CoreModule_28:n===d.a?this._SpiralModule_29:n===f.a?this._SpaceModule_30:n===m.a?this._CtgRoutingModule_31:n===b.a?this._ThreeModule_32:n===v.a?this._CKEditorModule_33:n===C.a?this._CtgModule_34:n===P.a?this._ProfileRoutingModule_35:n===y.a?this._ProfileModule_36:n===O.a?this._FriendsModule_37:n===o.a?this._AppModule_38:n===i.c?this._LOCALE_ID_39:n===r.g?this._NgLocalization_40:n===i.v?this._APP_ID_41:n===i.w?this._IterableDiffers_42:n===i.x?this._KeyValueDiffers_43:n===s.q?this._DomSanitizer_44:n===i.y?this._Sanitizer_45:n===s.r?this._HAMMER_GESTURE_CONFIG_46:n===s.s?this._EVENT_MANAGER_PLUGINS_47:n===s.h?this._EventManager_48:n===s.i?this._ɵDomSharedStylesHost_49:n===s.j?this._ɵDomRendererFactory2_50:n===i.z?this._RendererFactory2_51:n===s.t?this._ɵSharedStylesHost_52:n===i.h?this._Testability_53:n===s.k?this._Meta_54:n===s.l?this._Title_55:n===u.a?this._BrowserXhr_56:n===u.h?this._ResponseOptions_57:n===u.i?this._XSRFStrategy_58:n===u.d?this._XHRBackend_59:n===u.j?this._RequestOptions_60:n===u.k?this._Http_61:n===a.a?this._ɵi_62:n===l.v?this._ActivatedRoute_63:n===l.b?this._NoPreloading_64:n===l.w?this._PreloadingStrategy_65:n===l.c?this._RouterPreloader_66:n===l.d?this._PreloadAllModules_67:n===l.x?this._ROUTER_INITIALIZER_68:n===i.A?this._APP_BOOTSTRAP_LISTENER_69:n===M.a?this._StorageService_70:n===S.a?this._UserService_71:n===w.a?this._LangService_72:n===x.a?this._ApiRoutesService_73:n===k.a?this._ApiHttpService_74:n===I.a?this._CssService_75:n===E.a?this._MessageService_76:n===R.a?this._SpiralService_77:n===L.a?this._ConcentricService_78:n===T.a?this._SpaceService_79:n===D.a?this._CKEditorService_80:n===A.a?this._CtgService_81:n===j.a?this._FriendsService_82:t},t.prototype.destroyInternal=function(){this._ɵf_6.ngOnDestroy(),this.__ɵDomSharedStylesHost_49&&this._ɵDomSharedStylesHost_49.ngOnDestroy(),this.__RouterPreloader_66&&this._RouterPreloader_66.ngOnDestroy()},t}(i.B),J=new i.C(Y,o.a)},l0Vc:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}']},mTBq:function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n,t){t.setElementStyle(n.nativeElement,"color","red"),t.setElementStyle(n.nativeElement,"textAlign","left")}return n.ctorParameters=function(){return[{type:i.L},{type:i.K}]},n}()},mfID:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return n.prototype.transform=function(n){return"0"!==n?n.replace(/(\.\w+)$/,function(n,t){return"-t"+t}):"http://"+location.hostname.replace("www","api")+"/portrait/0.jpg"},n}()},o65T:function(n,t,e){"use strict";function i(n){return u._24(0,[(n()(),u._25(0,[["newSpace",1]],null,5,"input",[["id","addNewSpace"],["placeholder","　　+"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==u._31(n,1)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==u._31(n,1).onTouched()&&i}if("compositionstart"===t){i=!1!==u._31(n,1)._compositionStart()&&i}if("compositionend"===t){i=!1!==u._31(n,1)._compositionEnd(e.target.value)&&i}if("keyup.enter"===t){i=!1!==o.addNewSpace()&&i}if("ngModelChange"===t){i=!1!==(o.newSpaceName=e)&&i}return i},null,null)),u._26(8192,null,0,a.k,[u.K,u.L,[2,a.l]],null,null),u._35(512,null,a.m,function(n){return[n]},[a.k]),u._26(335872,null,0,a.n,[[8,null],[8,null],[8,null],[2,a.m]],{model:[0,"model"]},{update:"ngModelChange"}),u._35(1024,null,a.o,null,[a.n]),u._26(8192,null,0,a.p,[a.o],null,null)],function(n,t){n(t,3,0,t.component.newSpaceName)},function(n,t){n(t,0,0,u._31(t,5).ngClassUntouched,u._31(t,5).ngClassTouched,u._31(t,5).ngClassPristine,u._31(t,5).ngClassDirty,u._31(t,5).ngClassValid,u._31(t,5).ngClassInvalid,u._31(t,5).ngClassPending)})}function o(n){return u._24(0,[(n()(),u._25(0,null,null,6,"div",[["class","circled-item space-item"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var i=!0;if("click"===t){i=!1!==u._31(n,2).onClick()&&i}return i},null,null)),u._26(139264,null,0,c.m,[u.x,u.L,u.K],{ngStyle:[0,"ngStyle"]},null),u._26(8192,null,0,_.z,[_.j,_.v,[8,null],u.K,u.L],{routerLink:[0,"routerLink"]},null),(n()(),u._27(null,["\n        "])),(n()(),u._32(8388608,null,null,1,null,i)),u._26(8192,null,0,c.l,[u.T,u._6],{ngIf:[0,"ngIf"]},null),(n()(),u._27(null,["\n        ","\n    "]))],function(n,t){var e=t.component;n(t,1,0,e.spaceStyles(e.positions[t.context.index].x,e.positions[t.context.index].y)),n(t,2,0,t.context.$implicit.space_id?"/space/"+t.context.$implicit.space_id:""),n(t,5,0,!t.context.$implicit.space_id)},function(n,t){n(t,0,0,u._34(1,"",t.context.$implicit.name,"")),n(t,6,0,t.context.$implicit.name)})}function r(n){return u._24(0,[(n()(),u._25(0,null,null,4,"div",[["id","stage"]],null,null,null,null,null)),(n()(),u._27(null,["\n    "])),(n()(),u._32(8388608,null,null,1,null,o)),u._26(401408,null,0,c.n,[u.T,u._6,u.w],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),u._27(null,["\n"]))],function(n,t){var e=t.component;n(t,3,0,e.spaces,e.trackBySpaces)},null)}function l(n){return u._24(0,[(n()(),u._25(0,null,null,1,"space-home",[],null,null,null,r,C)),u._26(2220032,null,0,g.a,[h.a,p.a,d.a,f.a,m.a,b.a],null,null)],function(n,t){n(t,1,0)},null)}var s=e("7hs6"),u=e("3j3K"),a=e("NVOs"),c=e("2Je8"),_=e("5oXY"),g=e("eF+A"),h=e("/D+n"),p=e("4v+s"),d=e("Js6w"),f=e("HI7R"),m=e("ioEY"),b=e("/pnX");e.d(t,"b",function(){return C}),t.a=r;var v=[s.a],C=u._23({encapsulation:0,styles:v,data:{}});u._28("space-home",g.a,l,{},{},[])},ozAJ:function(n,t,e){"use strict";function i(n){return a._24(0,[(n()(),a._25(0,null,null,0,"div",[["class","friend-action friend-add"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.addFriend(n.parent.context.$implicit)&&i}return i},null,null))],null,null)}function o(n){return a._24(0,[(n()(),a._25(0,null,null,0,"div",[["class","friend-action friend-delete"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.deleteFriend(n.parent.context.$implicit)&&i}return i},null,null))],null,null)}function r(n){return a._24(0,[(n()(),a._25(0,null,null,17,"div",[["class","circled-item friends-item"]],[[8,"title",0]],null,null,null,null)),a._26(139264,null,0,c.m,[a.x,a.L,a.K],{ngStyle:[0,"ngStyle"]},null),(n()(),a._27(null,["\n    "])),(n()(),a._25(0,null,null,7,"div",[["class","friend-profile"]],null,null,null,null,null)),(n()(),a._27(null,["\n        "])),(n()(),a._25(0,null,null,1,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),a._29(0,_.a,[]),(n()(),a._27(null,["\n        "])),(n()(),a._25(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),a._27(null,["",""])),(n()(),a._27(null,["\n    "])),(n()(),a._27(null,["\n    "])),(n()(),a._32(8388608,null,null,1,null,i)),a._26(8192,null,0,c.l,[a.T,a._6],{ngIf:[0,"ngIf"]},null),(n()(),a._27(null,["\n    "])),(n()(),a._32(8388608,null,null,1,null,o)),a._26(8192,null,0,c.l,[a.T,a._6],{ngIf:[0,"ngIf"]},null),(n()(),a._27(null,["\n"]))],function(n,t){var e=t.component;n(t,1,0,e.friendsStyles(e.positions[t.context.index].x,e.positions[t.context.index].y)),n(t,13,0,!t.context.$implicit.is_friend),n(t,16,0,t.context.$implicit.is_friend)},function(n,t){n(t,0,0,a._34(1,"",t.context.$implicit.name,"")),n(t,5,0,a._34(1,"",a._30(t,5,0,a._31(t,6).transform(t.context.$implicit.portrait)),"")),n(t,9,0,t.context.$implicit.name)})}function l(n){return a._24(0,[(n()(),a._32(8388608,null,null,1,null,r)),a._26(401408,null,0,c.n,[a.T,a._6,a.w],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(n,t){var e=t.component;n(t,1,0,e.friendsList,e.trackByFriends)},null)}function s(n){return a._24(0,[(n()(),a._25(0,null,null,1,"friends",[],null,null,null,l,v)),a._26(122880,null,0,g.a,[h.a,p.a,d.a,f.a,m.a],null,null)],function(n,t){n(t,1,0)},null)}var u=e("qK88"),a=e("3j3K"),c=e("2Je8"),_=e("mfID"),g=e("WbGr"),h=e("Js6w"),p=e("HI7R"),d=e("Z6Jw"),f=e("4v+s"),m=e("/pnX");e.d(t,"b",function(){return v}),t.a=l;var b=[u.a],v=a._23({encapsulation:0,styles:b,data:{}});a._28("friends",g.a,s,{},{},[])},"pz+S":function(n,t,e){"use strict";var i=e("5oXY"),o=e("uCY4"),r=(e.n(o),e("9X4+")),l=e("wVUY"),s=e("Js6w"),u=e("HI7R"),a=e("/pnX"),c=e("zybO"),_=e("ULho");e.n(_);e.d(t,"a",function(){return h});var g=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),h=function(n){function t(t,e,i,o,r,l,s){var u=n.call(this)||this;return u.route=t,u.router=e,u.ctgService=i,u.apiRoutesService=o,u.apiHttpService=r,u.messageService=l,u.ckeditorService=s,u.timer=0,u.selectedDescendants=[],u.selectedDescendantsUuid=[],u.showControl=!1,u.projected=!1,u.originColor=16777215,u.hoverColor=6141695,u.selectedColor=16711680,u.moveColor=16766720,u.descendantColor=16739713,u.onMouseDown=function(n){n.preventDefault(),u.updatePosition(n),u.countPressTime()},u.onMouseMove=function(n){n.preventDefault(),u.updatePosition(n),u.timer=0,cancelAnimationFrame(u.timerAnimation)},u.onMouseDrag=function(n){n.preventDefault(),u.updatePosition(n);var t=new _.Vector3;t.set(u.mouse.x,u.mouse.y,.5),t.unproject(u.camera);var e=t.sub(u.camera.position).normalize(),i=-u.camera.position.z/e.z,o=u.camera.position.clone().add(e.multiplyScalar(i));if(u.drag.position.set(o.x,o.y,o.z),u.dragLines)for(var r=0;r<u.dragLines.length;){var l=u.dragLines[r].geometry;l.vertices[0]=new _.Vector3(o.x,o.y,o.z),l.verticesNeedUpdate=!0,r++}u.getDragCollision()},u.onMouseUp=function(n){if(n.preventDefault(),u.timer=0,cancelAnimationFrame(u.timerAnimation),u.drag){u.controls.enabled=!0,u.webGLRenderer.domElement.removeEventListener("mousemove",u.onMouseDrag,!1),u.webGLRenderer.domElement.addEventListener("mousemove",u.onMouseMove,!1),u.moveTarget&&(u.moveTarget.material.color.setHex(u.originColor),u.moveTarget.material.needsUpdate=!0);var t=u.getFirstIntersectedObject(1,!0);if(t)u.apiHttpService.get(u.apiRoutesService.ctgMove(u.drag.userData.space_id,u.drag.userData.ctg_id,t.userData.ctg_id)).subscribe(function(n){return u.messageService.handleResponse(n,function(){u.rebuildScene()})});else{u.drag.position.set(u.originDragPosition.x,u.originDragPosition.y,u.originDragPosition.z);for(var e=0;e<u.dragLines.length;){var i=u.dragLines[e].geometry;i.vertices[0]=u.originDragPosition,i.verticesNeedUpdate=!0,e++}}u.drag=void 0,u.dragLines=void 0,u.originDragPosition=void 0}},u.onClick=function(n){n.preventDefault(),u.ckeditorService.editorOff(),u.updatePosition(n);var t=u.getFirstIntersectedObject(0,!0);if(t&&(u.hovering=null,!u.selected||u.selected.uuid!=t.uuid)){var e;if(u.selected&&(e=u.selected),u.selected=t,u.selectedDescendants.length)for(var i=0;i<u.selectedDescendants.length;)u.selectedDescendants[i].material.color.setHex(u.originColor),i++;u.selectedDescendants=[],u.selectedDescendantsUuid=[],u.selected.material.color.setHex(u.selectedColor),u.ctgService.setCtg(t.userData);for(var o=0;o<u.spriteGroup.children.length;){if(u.spriteGroup.children[o].userData.path.match("-"+t.userData.ctg_id+"-")){var r=u.spriteGroup.children[o];r.material.color.setHex(u.descendantColor),u.selectedDescendants.push(r),u.selectedDescendantsUuid.push(r.uuid)}o++}e&&(u.selectedDescendantsUuid.includes(e.uuid)?e.material.color.setHex(u.descendantColor):e.material.color.setHex(u.originColor),e=null),t=null,u.controlPos={x:n.clientX,y:n.clientY},u.ctgService.setControlPosition(u.controlPos),u.showControls()}},u.onDoubleClick=function(n){n.preventDefault(),u.updatePosition(n);var t=u.getFirstIntersectedObject();if(!t){if(u.hovering&&u.hovering.material.color.setHex(u.originColor),u.selected&&u.selected.material.color.setHex(u.originColor),u.selectedDescendants)for(var e=0;e<u.selectedDescendants.length;)u.selectedDescendants[e].material.color.setHex(u.originColor),e++;return void u.afterSceneFinished()}u.router.navigate(["/space",t.userData.space_id,"ctg",t.userData.ctg_id],{relativeTo:u.route}),t=null},u.onWindowResize=function(){u.camera.aspect=window.innerWidth/window.innerHeight,u.camera.updateProjectionMatrix(),u.webGLRenderer.setSize(window.innerWidth,window.innerHeight)},u}return g(t,n),t.prototype.ngOnInit=function(){var n=this;this.subscriptionParam=this.route.params.subscribe(function(t){n.ctgService.setSpaceId=n.urlSpaceId=t.space_id,n.ctgService.setCtgId=n.urlCtgId=t.ctg_id,n.projected&&n.rebuildScene()})},t.prototype.ngAfterViewInit=function(){var n=this;this.ctgService.getCtgListBySpaceIdCtgId().subscribe(function(t){n.processData(t),n.project(),n.afterSceneFinished(),n.firstTime=!1})},t.prototype.ngOnDestroy=function(){var n=this;setTimeout(function(){n.subscriptionParam.unsubscribe()})},t.prototype.rebuildScene=function(){var n=this;this.ctgService.setSpaceId=this.urlSpaceId,this.ctgService.setCtgId=this.urlCtgId,this.ctgService.getCtgListBySpaceIdCtgId().subscribe(function(t){cancelAnimationFrame(n.renderAnimation),n.processData(t),n.buildSpheres(),n.renderAnimate(),n.afterSceneFinished()})},t.prototype.afterSceneFinished=function(){this.hovering=void 0,this.selected=void 0,this.selectedDescendants=[],this.selectedDescendantsUuid=[],this.drag=void 0,this.dragLines=[],this.originDragPosition=void 0,this.moveTarget=void 0,this.data=[],this.hideControls()},t.prototype.getDragCollision=function(){this.raycaster.setFromCamera(this.mouse,this.camera);var n=this.raycaster.intersectObjects(this.spriteGroup.children);if(n&&n.length>1&&this.drag&&this.drag.uuid!=n[1].object.uuid){var t=n[1].object;this.moveTarget&&(this.moveTarget.material.color.setHex(this.originColor),this.moveTarget.material.needsUpdate=!0),this.moveTarget=t,t.material.color.setHex(this.moveColor),t.material.needsUpdate=!0}n=null},t.prototype.countPressTime=function(){var n=this;this.timerAnimation=requestAnimationFrame(function(){return n.countPressTime()}),++this.timer>=17&&(this.drag=this.getFirstIntersectedObject(),this.drag&&(this.controls.enabled=!1,cancelAnimationFrame(this.timerAnimation),this.originDragPosition=Object.assign({},this.drag.position),this.dragLines=this.getDesLinesByCtgId(this.drag.name),this.webGLRenderer.domElement.removeEventListener("mousemove",this.onMouseMove,!1),this.webGLRenderer.domElement.addEventListener("mousemove",this.onMouseDrag,!1)))},t.prototype.getDesLinesByCtgId=function(n){for(var t=this.lineGroup.children.length,e=0,i=new RegExp("^"+n+"-"),o=[];e<t;)this.lineGroup.children[e].name.match(i)&&o.push(this.lineGroup.children[e]),e++;return o},t.prototype.updatePosition=function(n){this.mouse.x=n.clientX/window.innerWidth*2-1,this.mouse.y=-n.clientY/window.innerHeight*2+1},t.prototype.getFirstIntersectedObject=function(n,t){this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.spriteGroup.children);return e&&e.length?(n=n||0,e[n]&&"Sprite"==e[n].object.type&&(t||0!=e[n].object.userData.tier)?e[n].object:null):null},t.prototype.setSpriteToOrigin=function(n){this.hovering&&(this.selected&&n.uuid==this.selected.uuid||(this.selectedDescendantsUuid.includes(this.hovering.uuid)?this.hovering.material.color.setHex(this.descendantColor):this.hovering.material.color.setHex(this.originColor)))},t.prototype.raycast=function(){var n=this.getFirstIntersectedObject();if(!n)return void(this.webGLRenderer.domElement.style.cursor="default");this.webGLRenderer.domElement.style.cursor="pointer",this.selected&&n.uuid==this.selected.uuid||this.hovering&&this.hovering.uuid==n.uuid||(this.setSpriteToOrigin(n),n.material.color.setHex(this.hoverColor),this.hovering=n)},t.prototype.renderAnimate=function(){var n=this;this.renderAnimation=requestAnimationFrame(function(){return n.renderAnimate()}),this.controls.update(),this.raycast(),this.renderWebGL()},t.prototype.project=function(){this.initWebGL(),this.trackBallControl(),this.buildSpheres(),this.renderAnimate(),this.webGLRenderer.domElement.addEventListener("mousedown",this.onMouseDown,!1),this.webGLRenderer.domElement.addEventListener("mouseup",this.onMouseUp,!1),this.webGLRenderer.domElement.addEventListener("mousemove",this.onMouseMove,!1),this.webGLRenderer.domElement.addEventListener("click",this.onClick,!1),this.webGLRenderer.domElement.addEventListener("dblclick",this.onDoubleClick,!1),window.addEventListener("resize",this.onWindowResize,!1),this.projected=!0},t.prototype.hideControls=function(){this.showControl=!1,this.ctgControlComponent&&(this.ctgControlComponent.showAddCtgInput=!1,this.ctgControlComponent.showContentBox=!1)},t.prototype.showControls=function(){this.showControl=!0,this.ctgControlComponent&&(this.ctgControlComponent.showAddCtgInput=!1,this.ctgControlComponent.showContentBox&&this.ctgControlComponent.clickViewBtn())},t.prototype.ctgControlPosition=function(){return{display:"block",width:0,height:0,position:"absolute",top:this.controlPos.y+"px",left:this.controlPos.x+"px"}},t.ctorParameters=function(){return[{type:i.v},{type:i.j},{type:l.a},{type:s.a},{type:u.a},{type:a.a},{type:c.a}]},t}(r.a)},qK88:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}.profile-box[_ngcontent-%COMP%]{width:32rem;height:16rem;overflow:hidden;position:absolute;top:50%;left:50%;margin:-8rem 0 0 -16rem;background-color:#fff}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]{position:relative;float:left;width:16rem;height:16rem}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;display:block;position:absolute}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]{position:relative;float:left;width:16rem;height:16rem}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{width:95%;height:2.2rem;margin:0 0 0 5%;line-height:2.2rem}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]{width:100%;height:3rem;margin:1rem 0 0}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:5.6rem;height:2.4rem;margin:0 1.6rem;font-size:1.2rem;float:left;line-height:2.4rem;text-align:center;color:#fff}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{background-color:#ff4538}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=submit].submit-button[_ngcontent-%COMP%]{background-color:#2a88bd;margin-left:0}.profile-box[_ngcontent-%COMP%]   .friends-search[_ngcontent-%COMP%]{position:absolute;width:12.8rem;height:2.4rem;bottom:1.6rem;right:1.6rem}.friends-item[_ngcontent-%COMP%]{position:absolute;width:4rem;height:6rem;margin:-3rem 0 0 -2rem;top:50%;left:50%}.friends-item[_ngcontent-%COMP%]   .friend-profile[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%;background-color:#9d9d9d}.friends-item[_ngcontent-%COMP%]   .friend-profile[_ngcontent-%COMP%]:hover{z-index:-1}.friends-item[_ngcontent-%COMP%]   .friend-profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:4rem;height:4rem}.friends-item[_ngcontent-%COMP%]   .friend-profile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{height:2rem;line-height:2rem;text-align:center;color:#fff}.friends-item[_ngcontent-%COMP%]   .friend-action[_ngcontent-%COMP%]{position:absolute;top:0;z-index:-1;width:100%;height:100%;background-color:hsla(0,0%,100%,.5)}.friends-item[_ngcontent-%COMP%]   .friend-action[_ngcontent-%COMP%]:hover{cursor:pointer;z-index:1}.friends-item[_ngcontent-%COMP%]   .friend-action.friend-add[_ngcontent-%COMP%]{background-image:url(/assets/friend_add.svg);background-size:100% 100%}.friends-item[_ngcontent-%COMP%]   .friend-action.friend-delete[_ngcontent-%COMP%]{background-image:url(/assets/friend_delete.svg);background-size:100% 100%}']},sWvZ:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=function(){function n(){}return n.prototype.setItem=function(n,t){localStorage.setItem(n,JSON.stringify(t))},n.prototype.getItem=function(n){return JSON.parse(localStorage.getItem(n))},n}()},tfGv:function(n,t,e){"use strict";function i(n){return s._24(0,[(n()(),s._25(0,null,null,2,"ctg-control",[],null,[[null,"ctgListChange"]],function(n,t,e){var i=!0,o=n.component;if("ctgListChange"===t){i=!1!==o.rebuildScene()&&i}return i},u.a,u.b)),s._26(139264,null,0,a.m,[s.x,s.L,s.K],{ngStyle:[0,"ngStyle"]},null),s._26(122880,[[1,4]],0,c.a,[a.e,_.v,_.j,g.a,h.a,p.a,d.a,f.a],null,{ctgListChange:"ctgListChange"})],function(n,t){n(t,1,0,t.component.ctgControlPosition()),n(t,2,0)},null)}function o(n){return s._24(0,[s._33(335544320,1,{ctgControlComponent:0}),(n()(),s._25(0,null,null,0,"div",[["id","canvas-frame"]],null,null,null,null,null)),(n()(),s._27(null,["\n"])),(n()(),s._25(0,null,null,2,"div",[["class","go-back home"]],null,[[null,"click"]],function(n,t,e){var i=!0;if("click"===t){i=!1!==s._31(n,4).onClick()&&i}return i},null,null)),s._26(8192,null,0,_.z,[_.j,_.v,[8,null],s.K,s.L],{routerLink:[0,"routerLink"]},null),(n()(),s._27(null,["\n"])),(n()(),s._27(null,["\n"])),(n()(),s._25(0,null,null,1,"ctg-history",[],null,null,null,m.a,m.b)),s._26(2220032,null,0,b.a,[_.v,p.a,d.a,g.a],null,null),(n()(),s._27(null,["\n"])),(n()(),s._32(8388608,null,null,1,null,i)),s._26(8192,null,0,a.l,[s.T,s._6],{ngIf:[0,"ngIf"]},null),(n()(),s._27(null,["\n\n"]))],function(n,t){var e=t.component;n(t,4,0,"/home"),n(t,8,0),n(t,11,0,e.showControl)},null)}function r(n){return s._24(0,[(n()(),s._25(0,null,null,1,"ctg-list",[],null,null,null,o,y)),s._26(2220032,null,0,v.a,[_.v,_.j,g.a,p.a,d.a,f.a,C.a],null,null)],function(n,t){n(t,1,0)},null)}var l=e("kiuB"),s=e("3j3K"),u=e("zJl0"),a=e("2Je8"),c=e("PW0z"),_=e("5oXY"),g=e("wVUY"),h=e("4v+s"),p=e("Js6w"),d=e("HI7R"),f=e("/pnX"),m=e("17UW"),b=e("eFS+"),v=e("pz+S"),C=e("zybO");e.d(t,"a",function(){return O});var P=[l.a],y=s._23({encapsulation:0,styles:P,data:{}}),O=s._28("ctg-list",v.a,r,{},{},[])},u87A:function(n,t,e){"use strict";var i=e("3j3K"),o=e("ioEY");e.d(t,"a",function(){return r});var r=function(){function n(n){if(n)throw new Error("CoreModule is already loaded. Import it in the AppModule only")}return n.forRoot=function(t){return{ngModule:n,providers:[{provide:o.b,useValue:t}]}},n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},wUuO:function(n,t,e){"use strict";function i(n){return l._24(0,[l._33(201326592,1,{host:0}),(n()(),l._25(0,[[1,0],["host",1]],null,1,"div",[["class","ctg-content"],["contenteditable","true"]],[[8,"id",0]],[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.showEditor()&&i}return i},null,null)),(n()(),l._27(null,["\n"])),(n()(),l._27(null,["\n"]))],null,function(n,t){var e=t.component;n(t,1,0,l._34(1,"",e.editor,""))})}function o(n){return l._24(0,[(n()(),l._25(0,null,null,1,"ckeditor",[],null,null,null,i,_)),l._26(2220032,null,0,s.a,[u.a,a.a],null,null)],function(n,t){n(t,1,0)},null)}var r=e("beI0"),l=e("3j3K"),s=e("Ho/V"),u=e("zybO"),a=e("wVUY");e.d(t,"b",function(){return _}),t.a=i;var c=[r.a],_=l._23({encapsulation:0,styles:c,data:{}});l._28("ckeditor",s.a,o,{},{change:"change",contentInitial:"contentInitial"},[])},wVUY:function(n,t,e){"use strict";var i=e("EEr4"),o=(e.n(i),e("HI7R")),r=e("Js6w");e.d(t,"a",function(){return l});var l=function(){function n(n,t){this.apiHttpService=n,this.apiRoutesService=t,this.ctgSource=new i.Subject,this.ctg$=this.ctgSource.asObservable(),this.controlPositionSource=new i.Subject,this.controlPosition$=this.controlPositionSource.asObservable(),this.ctgContent="",this.ctgContentSource=new i.Subject,this.ctgContent$=this.ctgContentSource.asObservable(),this.spaceNameSource=new i.Subject,this.spaceName$=this.spaceNameSource.asObservable()}return Object.defineProperty(n.prototype,"setSpaceId",{set:function(n){this.spaceId=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getSpaceId",{get:function(){return this.spaceId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setCtgId",{set:function(n){this.ctgId=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getCtgId",{get:function(){return this.ctgId},enumerable:!0,configurable:!0}),n.prototype.getCtgListBySpaceIdCtgId=function(){return this.apiHttpService.get(this.apiRoutesService.ctgList(this.getSpaceId,this.getCtgId))},n.prototype.setCtg=function(n){this.ctg=n,this.ctgSource.next(n)},n.prototype.setControlPosition=function(n){this.controlPosition=n,this.controlPositionSource.next(this.controlPosition)},n.prototype.setCtgContent=function(n){this.ctgContent=n,this.ctgContentSource.next(n)},n.prototype.setSpaceName=function(n){this.spaceNameSource.next(n)},n.ctorParameters=function(){return[{type:o.a},{type:r.a}]},n}()},x35b:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("3j3K"),o=e("kZql"),r=e("Qbdm"),l=e("kke6");o.a.production&&e.i(i.a)(),e.i(r.a)().bootstrapModuleFactory(l.a)},xVwr:function(n,t,e){"use strict";function i(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.email_required")))})}function o(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.password_required")))})}function r(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.email_validation")))})}function l(n){return h._24(0,[(n()(),h._25(0,null,null,3,"p",[["error",""]],null,null,null,null,null)),h._26(8192,null,0,p.a,[h.L,h.K],null,null),(n()(),h._27(null,["\n                ","\n            "])),h._29(0,d.a,[f.a])],null,function(n,t){n(t,2,0,h._30(t,2,0,h._31(t,3).transform("user.login_failed")))})}function s(n){return h._24(0,[(n()(),h._25(0,null,null,58,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,e){var i=!0,o=n.component;if("submit"===t){i=!1!==h._31(n,2).onSubmit(e)&&i}if("reset"===t){i=!1!==h._31(n,2).onReset()&&i}if("ngSubmit"===t){i=!1!==o.onSubmit()&&i}return i},null,null)),h._26(8192,null,0,m.g,[],null,null),h._26(8192,[["loginForm",4]],0,m.h,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),h._35(1024,null,m.i,null,[m.h]),h._26(8192,null,0,m.j,[m.i],null,null),(n()(),h._27(null,["\n\n        "])),(n()(),h._25(0,null,null,11,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,8,"input",[["id","email"],["name","email"],["required",""],["type","text"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==h._31(n,9)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==h._31(n,9).onTouched()&&i}if("compositionstart"===t){i=!1!==h._31(n,9)._compositionStart()&&i}if("compositionend"===t){i=!1!==h._31(n,9)._compositionEnd(e.target.value)&&i}if("ngModelChange"===t){i=!1!==(o.user.email=e)&&i}if("keyup.enter"===t){i=!1!==o.checkEmail()&&i}if("blur"===t){i=!1!==o.checkEmail()&&i}return i},null,null)),h._26(8192,null,0,m.k,[h.K,h.L,[2,m.l]],null,null),h._26(8192,null,0,m.q,[],{required:[0,"required"]},null),h._35(512,null,m.s,function(n){return[n]},[m.q]),h._35(512,null,m.m,function(n){return[n]},[m.k]),h._26(335872,[["email",4]],0,m.n,[[2,m.i],[2,m.s],[8,null],[2,m.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),h._35(1024,null,m.o,null,[m.n]),h._26(8192,null,0,m.p,[m.o],null,null),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n        "])),(n()(),h._25(0,null,null,11,"div",[["class","form-label"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,8,"input",[["id","password"],["name","password"],["required",""],["type","password"]],[[8,"placeholder",0],[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0,o=n.component;if("input"===t){i=!1!==h._31(n,22)._handleInput(e.target.value)&&i}if("blur"===t){i=!1!==h._31(n,22).onTouched()&&i}if("compositionstart"===t){i=!1!==h._31(n,22)._compositionStart()&&i}if("compositionend"===t){i=!1!==h._31(n,22)._compositionEnd(e.target.value)&&i}if("ngModelChange"===t){i=!1!==(o.user.password=e)&&i}return i},null,null)),h._26(8192,null,0,m.k,[h.K,h.L,[2,m.l]],null,null),h._26(8192,null,0,m.q,[],{required:[0,"required"]},null),h._35(512,null,m.s,function(n){return[n]},[m.q]),h._35(512,null,m.m,function(n){return[n]},[m.k]),h._26(335872,[["password",4]],0,m.n,[[2,m.i],[2,m.s],[8,null],[2,m.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),h._35(1024,null,m.o,null,[m.n]),h._26(8192,null,0,m.p,[m.o],null,null),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n\n        "])),(n()(),h._25(0,null,null,10,"div",[["class","form-panel"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,3,"button",[["type","button"]],null,[[null,"click"]],function(n,t,e){var i=!0;if("click"===t){i=!1!==h._31(n,35).onClick()&&i}return i},null,null)),h._26(8192,null,0,b.z,[b.j,b.v,[8,null],h.K,h.L],{routerLink:[0,"routerLink"]},null),(n()(),h._27(null,["",""])),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,2,"button",[["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),h._27(null,["",""])),h._29(0,d.a,[f.a]),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n\n        "])),(n()(),h._25(0,null,null,13,"div",[["class","message-box"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,i)),h._26(8192,null,0,v.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,o)),h._26(8192,null,0,v.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,r)),h._26(8192,null,0,v.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._32(8388608,null,null,1,null,l)),h._26(8192,null,0,v.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n\n    "]))],function(n,t){var e=t.component;n(t,10,0,""),n(t,13,0,"email",e.user.email),n(t,23,0,""),n(t,26,0,"password",e.user.password),n(t,35,0,"/register"),n(t,47,0,!(h._31(t,13).valid||h._31(t,13).pristine)),n(t,50,0,!(h._31(t,26).valid||h._31(t,26).pristine)),n(t,53,0,e.invalidEmail),n(t,56,0,e.authError)},function(n,t){n(t,0,0,h._31(t,4).ngClassUntouched,h._31(t,4).ngClassTouched,h._31(t,4).ngClassPristine,h._31(t,4).ngClassDirty,h._31(t,4).ngClassValid,h._31(t,4).ngClassInvalid,h._31(t,4).ngClassPending),n(t,8,0,h._34(1,"",h._30(t,8,0,h._31(t,16).transform("user.email_placeholder")),""),h._31(t,10).required?"":null,h._31(t,15).ngClassUntouched,h._31(t,15).ngClassTouched,h._31(t,15).ngClassPristine,h._31(t,15).ngClassDirty,h._31(t,15).ngClassValid,h._31(t,15).ngClassInvalid,h._31(t,15).ngClassPending),n(t,21,0,h._34(1,"",h._30(t,21,0,h._31(t,29).transform("user.password_placeholder")),""),h._31(t,23).required?"":null,h._31(t,28).ngClassUntouched,h._31(t,28).ngClassTouched,h._31(t,28).ngClassPristine,h._31(t,28).ngClassDirty,h._31(t,28).ngClassValid,h._31(t,28).ngClassInvalid,h._31(t,28).ngClassPending),n(t,36,0,h._30(t,36,0,h._31(t,37).transform("user.register"))),n(t,39,0,!h._31(t,2).form.valid),n(t,40,0,h._30(t,40,0,h._31(t,41).transform("user.login")))})}function u(n){return h._24(0,[(n()(),h._25(0,null,null,1,"li",[],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.switchLang(n.context.$implicit)&&i}return i},null,null)),(n()(),h._27(null,["\n                        ","\n                    "]))],null,function(n,t){n(t,1,0,t.context.$implicit.name)})}function a(n){return h._24(0,[(n()(),h._25(0,null,null,19,"div",[["class","user-info"]],null,null,null,null,null)),(n()(),h._27(null,["\n        "])),(n()(),h._25(0,null,null,16,"div",[["class","user-info-content"]],null,null,null,null,null)),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,1,"img",[["alt",""],["class","portrait"]],[[8,"src",4]],[[null,"click"]],function(n,t,e){var i=!0;if("click"===t){i=!1!==h._31(n,5).onClick()&&i}return i},null,null)),h._26(8192,null,0,b.z,[b.j,b.v,[8,null],h.K,h.L],{routerLink:[0,"routerLink"]},null),(n()(),h._27(null,["\n            "])),(n()(),h._25(0,null,null,10,"div",[["class","user-profile"]],null,null,null,null,null)),(n()(),h._27(null,["\n                "])),(n()(),h._25(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),h._27(null,["",""])),(n()(),h._27(null,["\n                "])),(n()(),h._25(0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),h._27(null,["\n                    "])),(n()(),h._32(8388608,null,null,1,null,u)),h._26(401408,null,0,v.n,[h.T,h._6,h.w],{ngForOf:[0,"ngForOf"]},null),(n()(),h._27(null,["\n                "])),(n()(),h._27(null,["\n            "])),(n()(),h._27(null,["\n        "])),(n()(),h._27(null,["\n    "]))],function(n,t){var e=t.component;n(t,5,0,"/profile/1"),n(t,15,0,e.languages)},function(n,t){var e=t.component;n(t,4,0,h._34(2,"",e.user.thumb,"?t=",e.timeString,"")),n(t,10,0,e.user.name)})}function c(n){return h._24(0,[(n()(),h._25(0,null,null,1,"space-home",[],null,null,null,C.a,C.b)),h._26(2220032,null,0,P.a,[y.a,O.a,M.a,S.a,w.a,x.a],null,null),(n()(),h._27(null,["\n"])),(n()(),h._25(0,null,null,10,"div",[["class","inner-box user-login"],["id","userLogin"]],null,null,null,null,null)),(n()(),h._27(null,["\n    "])),(n()(),h._32(8388608,null,null,1,null,s)),h._26(8192,null,0,v.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n\n\n    "])),(n()(),h._32(8388608,null,null,1,null,a)),h._26(8192,null,0,v.l,[h.T,h._6],{ngIf:[0,"ngIf"]},null),(n()(),h._27(null,["\n\n    "])),(n()(),h._25(0,null,null,1,"space-search",[],null,null,null,k.a,k.b)),h._26(122880,null,0,I.a,[y.a,w.a,x.a],null,null),(n()(),h._27(null,["\n"]))],function(n,t){var e=t.component;n(t,1,0),n(t,6,0,!e.user.access_token),n(t,9,0,e.user.access_token),n(t,12,0)},null)}function _(n){return h._24(0,[(n()(),h._25(0,null,null,1,"user-login",[],null,null,null,c,L)),h._26(122880,null,0,E.a,[w.a,M.a,S.a,y.a,x.a],null,null)],function(n,t){n(t,1,0)},null)}var g=e("TPkH"),h=e("3j3K"),p=e("mTBq"),d=e("0/nx"),f=e("0/G1"),m=e("NVOs"),b=e("5oXY"),v=e("2Je8"),C=e("o65T"),P=e("eF+A"),y=e("/D+n"),O=e("4v+s"),M=e("Js6w"),S=e("HI7R"),w=e("ioEY"),x=e("/pnX"),k=e("aevo"),I=e("3I0U"),E=e("5eC+");e.d(t,"a",function(){return T});var R=[g.a],L=h._23({encapsulation:0,styles:R,data:{}}),T=h._28("user-login",E.a,_,{},{},[])},ypIo:function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("SpiralModule is already loaded. Import it in the AppModule only")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},"z/LA":function(n,t,e){"use strict";e.d(t,"a",function(){return i});var i=['button[_ngcontent-%COMP%]{border:0;box-shadow:none}.go-back.home[_ngcontent-%COMP%]{position:absolute;width:3rem;height:3rem;top:8%;left:3%;border-radius:50%;text-align:center}.go-back.home[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,100%,.7)}.go-back.home[_ngcontent-%COMP%]:after{content:"";display:block;width:80%;height:80%;margin:10%;background-image:url(/assets/home.svg);background-size:100% 100%}.profile-box[_ngcontent-%COMP%]{width:32rem;height:16rem;overflow:hidden;position:absolute;top:50%;left:50%;margin:-8rem 0 0 -16rem;background-color:#fff}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]{position:relative;float:left;width:16rem;height:16rem}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;display:block;position:absolute}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-box[_ngcontent-%COMP%]   .portrait-box[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]{position:relative;float:left;width:16rem;height:16rem}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{width:95%;height:2.2rem;margin:0 0 0 5%;line-height:2.2rem}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]{width:100%;height:3rem;margin:1rem 0 0}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]:after{content:"";display:block;clear:both}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:5.6rem;height:2.4rem;margin:0 1.6rem;font-size:1.2rem;float:left;line-height:2.4rem;text-align:center;color:#fff}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   .logout-button[_ngcontent-%COMP%]{background-color:#ff4538}.profile-box[_ngcontent-%COMP%]   .detail-box[_ngcontent-%COMP%]   .form-panel[_ngcontent-%COMP%]   button[type=submit].submit-button[_ngcontent-%COMP%]{background-color:#2a88bd;margin-left:0}.profile-box[_ngcontent-%COMP%]   .friends-search[_ngcontent-%COMP%]{position:absolute;width:12.8rem;height:2.4rem;bottom:1.6rem;right:1.6rem}.search-box[_ngcontent-%COMP%]{width:100%;height:100%;margin:0 auto;position:relative}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;height:100%;line-height:2.4rem;font-size:1em}']},zJl0:function(n,t,e){"use strict";function i(n){return a._24(0,[(n()(),a._25(0,[["title",1]],null,2,"input",[["class","text-input"],["type","text"]],[[8,"placeholder",0]],[[null,"keyup.enter"]],function(n,t,e){var i=!0,o=n.component;if("keyup.enter"===t){i=!1!==o.addNewCtg(a._31(n,0).value)&&i}return i},null,null)),a._26(139264,null,0,c.m,[a.x,a.L,a.K],{ngStyle:[0,"ngStyle"]},null),a._29(0,_.a,[g.a])],function(n,t){n(t,1,0,t.component.spaceInputPosition())},function(n,t){n(t,0,0,a._34(1,"",a._30(t,0,0,a._31(t,2).transform("space.new_space_placeholder")),""))})}function o(n){return a._24(0,[(n()(),a._25(0,null,null,16,"div",[["class","confirm-box"]],null,null,null,null,null)),(n()(),a._27(null,["\n    "])),(n()(),a._25(0,null,null,2,"p",[],null,null,null,null,null)),(n()(),a._27(null,["",""])),a._29(0,_.a,[g.a]),(n()(),a._27(null,["\n    "])),(n()(),a._25(0,null,null,9,"div",[["class","button-box"]],null,null,null,null,null)),(n()(),a._27(null,["\n        "])),(n()(),a._25(0,null,null,2,"button",[["type","button"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.confirmDelete()&&i}return i},null,null)),(n()(),a._27(null,["","\n        "])),a._29(0,_.a,[g.a]),(n()(),a._27(null,["\n        "])),(n()(),a._25(0,null,null,2,"button",[["type","button"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.cancelDelete()&&i}return i},null,null)),(n()(),a._27(null,["","\n        "])),a._29(0,_.a,[g.a]),(n()(),a._27(null,["\n    "])),(n()(),a._27(null,["\n"]))],null,function(n,t){var e=t.component;n(t,3,0,a._30(t,3,0,a._31(t,4).transform(e.confirmContent))),n(t,9,0,a._30(t,9,0,a._31(t,10).transform("action.yes"))),n(t,13,0,a._30(t,13,0,a._31(t,14).transform("action.no")))})}function r(n){return a._24(0,[(n()(),a._25(0,null,null,2,"ctg-content",[["class","text-box"]],null,[[null,"ctgChange"]],function(n,t,e){var i=!0,o=n.component;if("ctgChange"===t){i=!1!==o.emitCtgListChange()&&i}return i},h.a,h.b)),a._26(139264,null,0,c.m,[a.x,a.L,a.K],{ngStyle:[0,"ngStyle"]},null),a._26(2220032,[[1,4]],0,p.a,[d.a,f.a,m.a,b.a,v.a],null,{ctgChange:"ctgChange"})],function(n,t){n(t,1,0,t.component.setEditorPosition()),n(t,2,0)},null)}function l(n){return a._24(0,[a._33(335544320,1,{ctgContentComponent:0}),(n()(),a._25(0,null,null,22,"div",[["class","control-panel"]],null,null,null,null,null)),(n()(),a._27(null,["\n    "])),(n()(),a._25(0,null,null,7,"div",[["class","btn"],["id","plus"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.clickAddBtn()&&i}return i},null,null)),a._26(139264,null,0,c.m,[a.x,a.L,a.K],{ngStyle:[0,"ngStyle"]},null),(n()(),a._27(null,["\n        "])),(n()(),a._25(0,null,null,0,"img",[["alt",""],["src","assets/plus.svg"]],null,null,null,null,null)),(n()(),a._27(null,["\n\n        "])),(n()(),a._32(8388608,null,null,1,null,i)),a._26(8192,null,0,c.l,[a.T,a._6],{ngIf:[0,"ngIf"]},null),(n()(),a._27(null,["\n\n    "])),(n()(),a._27(null,["\n    "])),(n()(),a._25(0,null,null,4,"div",[["class","btn"],["id","view"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.clickViewBtn()&&i}return i},null,null)),a._26(139264,null,0,c.m,[a.x,a.L,a.K],{ngStyle:[0,"ngStyle"]},null),(n()(),a._27(null,["\n        "])),(n()(),a._25(0,null,null,0,"img",[["alt",""],["src","assets/eyes.svg"]],null,null,null,null,null)),(n()(),a._27(null,["\n    "])),(n()(),a._27(null,["\n    "])),(n()(),a._25(0,null,null,4,"div",[["class","btn"],["id","delete"]],null,[[null,"click"]],function(n,t,e){var i=!0,o=n.component;if("click"===t){i=!1!==o.clickDeleteBtn()&&i}return i},null,null)),a._26(139264,null,0,c.m,[a.x,a.L,a.K],{ngStyle:[0,"ngStyle"]},null),(n()(),a._27(null,["\n        "])),(n()(),a._25(0,null,null,0,"img",[["alt",""],["src","assets/delete.svg"]],null,null,null,null,null)),(n()(),a._27(null,["\n    "])),(n()(),a._27(null,["\n"])),(n()(),a._27(null,["\n"])),(n()(),a._32(8388608,null,null,1,null,o)),a._26(8192,null,0,c.l,[a.T,a._6],{ngIf:[0,"ngIf"]},null),(n()(),a._27(null,["\n"])),(n()(),a._32(8388608,null,null,1,null,r)),a._26(8192,null,0,c.l,[a.T,a._6],{ngIf:[0,"ngIf"]},null),(n()(),a._27(null,["\n"]))],function(n,t){var e=t.component;n(t,4,0,e.setBtnPosition("plus")),n(t,9,0,e.showAddCtgInput),n(t,13,0,e.setBtnPosition("view")),n(t,19,0,e.setBtnPosition("delete")),n(t,26,0,e.showConfirm),n(t,29,0,e.showContentBox)},null)}function s(n){return a._24(0,[(n()(),a._25(0,null,null,1,"ctg-control",[],null,null,null,l,M)),a._26(122880,null,0,C.a,[c.e,P.v,P.j,d.a,y.a,f.a,m.a,b.a],null,null)],function(n,t){n(t,1,0)},null)}var u=e("ei4h"),a=e("3j3K"),c=e("2Je8"),_=e("0/nx"),g=e("0/G1"),h=e("jJPQ"),p=e("CcI2"),d=e("wVUY"),f=e("Js6w"),m=e("HI7R"),b=e("/pnX"),v=e("/D+n"),C=e("PW0z"),P=e("5oXY"),y=e("4v+s");e.d(t,"b",function(){return M}),t.a=l;var O=[u.a],M=a._23({encapsulation:0,styles:O,data:{}});a._28("ctg-control",C.a,s,{},{ctgListChange:"ctgListChange"},[])},zthj:function(n,t,e){"use strict";var i=e("3j3K");e.d(t,"a",function(){return o});var o=function(){function n(n){if(n)throw new Error("ProfileModule is already loaded. Import it in the AppModule only")}return n.ctorParameters=function(){return[{type:n,decorators:[{type:i.Y},{type:i.Z}]}]},n}()},zybO:function(n,t,e){"use strict";var i=e("EEr4");e.n(i);e.d(t,"a",function(){return o});var o=function(){function n(){this.toggleEditorSource=new i.Subject,this.toggleEditor$=this.toggleEditorSource.asObservable()}return n.prototype.editorOff=function(){this.toggleEditorSource.next(!1)},n.prototype.editorOn=function(){this.toggleEditorSource.next(!0)},n}()}},[0]);